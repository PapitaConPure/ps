var Pur\u00E9Script=(()=>{var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var zt=b((Xd,Gn)=>{var Ht=class{#e;#t;#r;#s;#i;#o;#a;#c;#n;#u;constructor(){this.#e=null,this.#t=null,this.#r=null,this.#s=null,this.#i=null,this.#o=null,this.#a=null,this.#c=null,this.#n=null,this.#u=null}setAuthor(e){return pt(e?.name),e?.url&&Pe(e?.url),e?.iconUrl&&Pe(e?.iconUrl),this.#e=e,this}setColor(e){if(e==null)return this.#t=null,this;if(typeof e=="number"){if(e<0||e>16777215)throw new RangeError(`Invalid color value: ${e}`);return this.#t=e,this}if(typeof e!="string")throw TypeError(`Invalid color type: ${typeof e}`);if(!e.startsWith("#"))throw RangeError(`Color hex string should begin with "#". Received: ${e}`);if(!e.match(/^#([0-9a-f]{1,6})$/i))throw TypeError(`Invalid color hex format: ${e}`);return this.#t=e,this}setDescription(e){return e!=null&&pt(e),this.#r=e,this}setFields(e){return this.#s=e,this}setFooter(e){return e?(e.iconUrl&&Pe(e.iconUrl),pt(e.text),this.#i=e,this):(this.#i=null,this)}setImage(e){return e!=null&&Pe(e),this.#o=e,this}setThumbnail(e){return e!=null&&Pe(e),this.#a=e,this}setTimestamp(e){return this.#c=e,this}setTitle(e){return e!=null&&pt(e),this.#n=e,this}setUrl(e){return e!=null&&Pe(e),this.#u=e,this}addFields(...e){return this.#s??=[],this.#s.push(...e),this}get data(){return{author:this.#e,color:this.#t,description:this.#r,fields:this.#s,footer:this.#i,imageUrl:this.#o,thumbUrl:this.#a,timestamp:this.#c,title:this.#n,url:this.#u}}toJSON(){return JSON.parse(JSON.stringify(this.data))}toString(){return JSON.stringify(this.data)}get[Symbol.toStringTag](){return this.toString()}};function pt(t){if(typeof t!="string"||t.length===0)throw`The value must be a non-empty string. Received: ${t}`}function Pe(t){new URL(t.trim())}Gn.exports={EmbedData:Ht}});var Ze=b((Kd,Xn)=>{var Yt=class{id;name;owner;description;#e;#t;#r;#s;premiumTier;channels;roles;members;constructor(e){let{id:n,name:r,ownerId:s,description:a=null,systemChannelId:i,iconUrlHandler:o,bannerUrlHandler:c,splashUrlHandler:d,premiumTier:g=null,channels:T,roles:V,members:R}=e;this.id=n,this.name=r,this.description=a,this.#t=o,this.#r=c,this.#s=d,this.premiumTier=g,this.channels=new Map;for(let se of T){let W=new Qe({...se,guild:this});this.channels.set(W.id,W)}this.roles=new Map;for(let se of V){let W=new We({...se,guild:this});this.roles.set(W.id,W)}this.members=new Map;for(let se of R){let W=new Je({...se,guild:this});this.members.set(W.id,W)}let H=this.members.get(s);if(!H)throw new ReferenceError("Owner not found");if(this.owner=H,i){let se=this.channels.get(i);if(!se)throw new ReferenceError("System channel not found");this.#e=se}}get systemChannel(){return this.#e}registerChannel(e){let n=new Qe({...e,guild:this});return this.channels.set(n.id,n),n}registerRole(e){let n=new We({...e,guild:this});return this.roles.set(n.id,n),n}registerMember(e){let n=new Je({...e,guild:this});return this.members.set(n.id,n),n}registerChannels(...e){let n=new Map;for(let r of e)n.set(r.id,this.registerChannel(r));return n}registerRoles(...e){let n=new Map;for(let r of e)n.set(r.id,this.registerRole(r));return n}registerMembers(...e){let n=new Map;for(let r of e)n.set(r.user.id,this.registerMember(r));return n}setSystemChannel(e){let n=this.channels.get(e);if(!n)throw new ReferenceError(`Channel for ID "${e}" not found`);this.#e=n}iconUrl(e){return this.#t(e)}bannerUrl(e){return this.#r(e)}splashUrl(e){return this.#s(e)}toString(){return this.name}get[Symbol.toStringTag](){return this.toString()}},Qe=class{guild;id;name;nsfw;constructor(e){let{id:n,name:r,guild:s,nsfw:a}=e;this.id=n,this.name=r,this.guild=s,this.nsfw=a}toString(){return`<#${this.id}>`}get[Symbol.toStringTag](){return this.toString()}},We=class{guild;id;name;#e;color;constructor(e){let{id:n,name:r,guild:s,iconUrlHandler:a,color:i}=e;this.id=n,this.name=r,this.guild=s,this.#e=a,this.color=i||0}get hexColor(){return"#"+this.color.toString(16)}iconUrl(e){return this.#e(e)}toString(){return`<@&${this.id}>`}get[Symbol.toStringTag](){return this.toString()}},jt=class{id;username;#e;constructor(e){let{id:n,username:r,displayName:s=null}=e;this.id=n,this.username=r,this.#e=s}get displayName(){return this.#e||this.username}toString(){return`<@${this.id}>`}get[Symbol.toStringTag](){return this.toString()}},Je=class{guild;user;nickname;roles;#e;constructor(e){let{guild:n,user:r,roleIds:s,nickname:a=null,displayAvatarUrlHandler:i}=e;this.guild=n,this.user=r,this.nickname=a,this.roles=new Map,this.#e=i,s.forEach(o=>{let c=n.roles.get(o);c&&this.roles.set(o,c)})}get id(){return this.user.id}get displayName(){return this.nickname||this.user.displayName}displayAvatarUrl(e){return this.#e(e)}toString(){return this.user.toString()}get[Symbol.toStringTag](){return this.user.toString()}};function Le(){}Le.prototype.getGuild=function(){throw"No implementado"};Le.prototype.getChannel=function(){throw"No implementado"};Le.prototype.getUser=function(){throw"No implementado"};Le.prototype.getMember=function(){throw"No implementado"};Le.prototype.fetchChannel=function(t){throw"No implementado"};Le.prototype.fetchRole=function(t){throw"No implementado"};Le.prototype.fetchMember=function(t){throw"No implementado"};Xn.exports={PSGuild:Yt,PSChannel:Qe,PSRole:We,PSUser:jt,PSMember:Je,EnvironmentProvider:Le}});var et=b((Wd,Yn)=>{var{PSMember:Hd,PSChannel:zd,PSGuild:Yd,PSRole:jd}=Ze(),{makeNumber:Qd,makeText:v,makeBoolean:Kn,makeList:Qa,makeRegistry:Oe,makeNada:de}=D();function Hn(t){let e={id:v(t.id),avatar:v(t.displayAvatarUrl()),nombre:v(t.displayName),menci\u00F3n:v(`${t}`)},n=new Map;return n.set("id",e.id).set("avatar",e.avatar).set("icono",e.avatar).set("\xEDcono",e.avatar).set("perfil",e.avatar).set("pfp",e.avatar).set("nombre",e.nombre).set("mencion",e.menci\u00F3n).set("menci\xF3n",e.menci\u00F3n),Oe(n)}function Wa(t){let e=t.iconUrl({size:256}),n={id:v(t.id),nombre:v(t.name),menci\u00F3n:v(`${t}`),color:v(t.hexColor),\u00EDcono:e?v(e):de()},r=new Map;return r.set("id",n.id).set("nombre",n.nombre).set("mencion",n.menci\u00F3n).set("menci\xF3n",n.menci\u00F3n).set("color",n.color).set("icono",n.\u00EDcono).set("\xEDcono",n.\u00EDcono),Oe(r)}function zn(t){let e="nsfw"in t,n={id:v(t.id),nombre:v(t.name),menci\u00F3n:v(`${t}`),nsfw:Kn(t.nsfw)},r=new Map;return r.set("id",n.id).set("nombre",n.nombre).set("mencion",n.menci\u00F3n).set("menci\xF3n",n.menci\u00F3n).set("nsfw",n.nsfw),Oe(r)}async function Ja(t){let e=t.iconUrl({extension:"jpg",size:512}),n=t.description,r=t.systemChannel,s=t.bannerUrl({extension:"jpg",size:1024}),a=t.premiumTier?`Nivel ${t.premiumTier}`:"Sin Nivel",i=t.splashUrl({extension:"jpg",size:512}),o={id:v(t.id),nombre:v(t.name),\u00EDcono:e?v(e):de(),descripci\u00F3n:n?v(n):de(),canalSistema:r?zn(r):de(),cartel:s?v(s):de(),nivel:v(a),imagenInvitaci\u00F3n:i?v(i):de(),due\u00F1o:Hn(t.owner)},c=new Map().set("id",o.id).set("nombre",o.nombre).set("icono",o.\u00EDcono).set("\xEDcono",o.\u00EDcono).set("descripcion",o.descripci\u00F3n).set("descripci\xF3n",o.descripci\u00F3n).set("canalSistema",o.canalSistema).set("canalDeSistema",o.canalSistema).set("cartel",o.cartel).set("portada",o.cartel).set("nivel",o.nivel).set("imagenInvitacion",o.imagenInvitaci\u00F3n).set("imagenInvitaci\xF3n",o.imagenInvitaci\u00F3n).set("due\xF1o",o.due\u00F1o);return Oe(c)}function Za(t){let e=new Map().set("color",v("#"+(t.data.color||0).toString(16).padStart(6,"0"))).set("t\xEDtulo",v(t.data.title||"")).set("descripci\xF3n",v(t.data.description||"")),n=t.data;if(n.fields){let r=[];for(let s of n.fields){let a=new Map().set("nombre",v(s.name||"")).set("valor",v(s.value||"")).set("alineado",Kn(s.inline??!1));r.push(Oe(a))}e.set("enlace",Qa(r))}return n.author&&e.set("autor",Oe(new Map().set("nombre",n.author.name?v(n.author.name):de()).set("\xEDcono",n.author.iconUrl?v(n.author.iconUrl):de()))),n.footer&&e.set("pie",Oe(new Map().set("texto",n.footer.text?v(n.footer.text):de()).set("\xEDcono",n.footer.iconUrl?v(n.footer.iconUrl):de()))),n.timestamp&&e.set("tiempo",v(`<t:${+n.timestamp/1e3}:F>`)),n.imageUrl&&e.set("imagen",v(n.imageUrl)),n.thumbUrl&&e.set("miniatura",v(n.thumbUrl)),n.url&&e.set("enlace",v(n.url)),Oe(e)}Yn.exports={makeDiscordMember:Hn,makeDiscordRole:Wa,makeDiscordChannel:zn,makeDiscordGuild:Ja,makeEmbedRegistry:Za}});var D=b((Jd,Jn)=>{var{EmbedData:ei}=zt(),l={NUMBER:"Number",TEXT:"Text",BOOLEAN:"Boolean",LIST:"List",REGISTRY:"Registry",EMBED:"Embed",NATIVE_FN:"NativeFunction",FUNCTION:"Function",NADA:"Nada"};function ti(t){switch(t){case l.NUMBER:return be(0);case l.TEXT:return ne("");case l.BOOLEAN:return _(!1);case l.EMBED:return Wt();case l.LIST:return gt([]);case l.REGISTRY:return Tt(new Map);case l.NADA:return nt();default:throw"Tipo de dato inv\xE1lido al intentar crear valor por defecto"}}function ni(t){return t!=null&&t.kind===l.NUMBER&&!isNaN(t.value)&&isFinite(t.value)}function jn(t){return t!=null&&!isNaN(t)&&isFinite(t)}function ri(t){return t?.kind===l.TEXT}function si(t){return t?.kind===l.BOOLEAN}function ai(t){return t?.kind===l.LIST}function ii(t){return t?.kind===l.REGISTRY}function oi(t){return t?.kind===l.EMBED}function ci(t){return t?.kind===l.NADA}function li(t,e,n=null){t.elements.splice(n??t.elements.length,0,e)}function Qt(t){return this.kind!==t.kind?be(-1):this.value===t.value?be(0):be(this.value<t.value?-1:1)}function qe(t){return be(-1)}function tt(t){return _(this.kind===t.kind&&this.value===t.value)}function ui(t){return _(t.kind===l.LIST&&this.kind===t.kind&&this.elements===t.elements)}function di(t){return _(t.kind===l.REGISTRY&&this.kind===t.kind&&this.entries===t.entries)}function hi(t){return _(t.kind===l.NATIVE_FN&&this.kind===t.kind&&this.call===t.call)}function mi(t){return _(this===t)}var ft=new Map;ft.set(l.NUMBER,"N\xFAmero").set(l.TEXT,"Texto").set(l.BOOLEAN,"L\xF3gico").set(l.LIST,"Lista").set(l.REGISTRY,"Registro").set(l.EMBED,"Marco").set(l.FUNCTION,"Funci\xF3n").set(l.NADA,"Nada");var ae=new Map;ae.set(l.NUMBER,Qt).set(l.TEXT,Qt).set(l.BOOLEAN,Qt).set(l.LIST,qe).set(l.REGISTRY,qe).set(l.EMBED,qe).set(l.NATIVE_FN,qe).set(l.FUNCTION,qe).set(l.NADA,qe);var ie=new Map;ie.set(l.NUMBER,tt).set(l.TEXT,tt).set(l.BOOLEAN,tt).set(l.LIST,ui).set(l.REGISTRY,di).set(l.EMBED,tt).set(l.NATIVE_FN,hi).set(l.FUNCTION,mi).set(l.NADA,tt);function be(t){let e=l.NUMBER;return{kind:e,value:+t,equals:ie.get(e),compareTo:ae.get(e)}}function ne(t){let e=l.TEXT;return{kind:e,value:`${t}`,equals:ie.get(e),compareTo:ae.get(e)}}function _(t){let e=l.BOOLEAN;return{kind:e,value:!!t,equals:ie.get(e),compareTo:ae.get(e)}}function Ei(t){return{...t,value:!t.value}}function gt(t){let e=l.LIST;return{kind:e,elements:t,equals:ie.get(e),compareTo:ae.get(e)}}function Tt(t){let e=l.REGISTRY;return{kind:e,entries:t,equals:ie.get(e),compareTo:ae.get(e)}}function Wt(){let t=l.EMBED;return{kind:t,value:new ei,equals:ie.get(t),compareTo:ae.get(t)}}function Qn(t,e){let n=l.NATIVE_FN;return{kind:n,self:t,call:e,equals:ie.get(n),compareTo:ae.get(n),with:function(r){return Qn(r,this.call)}}}function pi(t,e,n){let r=l.FUNCTION;return{kind:r,lambda:!1,name:"[Funci\xF3n]",body:t,args:e,scope:n,equals:ie.get(r),compareTo:ae.get(r)}}function fi(t,e){let n=l.FUNCTION;return{kind:n,lambda:!0,name:"[Lambda]",expression:t,args:e,equals:ie.get(n),compareTo:ae.get(n)}}function nt(){let t=l.NADA;return{kind:t,value:null,equals:ie.get(t),compareTo:ae.get(t)}}var Wn=new Map;Wn.set(l.NUMBER,be).set(l.TEXT,ne).set(l.BOOLEAN,_).set(l.LIST,gt).set(l.REGISTRY,Tt).set(l.EMBED,Wt).set(l.NADA,nt);function gi(t,e){let n=Wn.get(t);if(!n)throw`No Maker Function for ${t}::${e}`;return n(e)}var oe=new Map;oe.set(l.NUMBER,new Map).set(l.TEXT,new Map).set(l.BOOLEAN,new Map).set(l.LIST,new Map).set(l.REGISTRY,new Map).set(l.EMBED,new Map).set(l.FUNCTION,new Map).set(l.NATIVE_FN,new Map).set(l.NADA,new Map);oe.get(l.NUMBER)?.set(l.TEXT,t=>ne(`${t??"Nada"}`)).set(l.BOOLEAN,t=>_(!!t));oe.get(l.TEXT)?.set(l.NUMBER,t=>be(jn(+t)?+t:0)).set(l.BOOLEAN,t=>_(!!t)).set(l.LIST,t=>gt([...t]));oe.get(l.BOOLEAN)?.set(l.NUMBER,t=>be(t?1:0)).set(l.TEXT,t=>ne(t?"Verdadero":"Falso"));oe.get(l.LIST)?.set(l.TEXT,(t,e)=>ne(`(${t?.map(n=>Jt(e,n,"Text").value).join("")})`)).set(l.BOOLEAN,t=>_(!!t?.length)).set(l.REGISTRY,t=>{if(!Array.isArray(t))return nt();let e=new Map;return t.forEach((n,r)=>e.set(r,n)),Tt(e)});oe.get(l.REGISTRY)?.set(l.TEXT,(t,e)=>{if(!t.size)return ne("{Rg}");let n=[];return t.forEach((r,s)=>{let a=Jt(e,r,"Text").value;n.push(`${s}: ${a}`)}),ne(`{Rg ${n.join(", ")} }`)}).set(l.BOOLEAN,t=>_(!!t?.size));oe.get(l.EMBED)?.set(l.TEXT,t=>ne("[Marco]")).set(l.BOOLEAN,t=>_(!0)).set(l.REGISTRY,t=>t==null||t.data==null?nt():et().makeEmbedRegistry(t));oe.get(l.FUNCTION)?.set(l.TEXT,t=>ne("[Funci\xF3n]")).set(l.BOOLEAN,t=>_(!0));oe.get(l.NATIVE_FN)?.set(l.TEXT,t=>ne("[Funci\xF3n nativa]")).set(l.BOOLEAN,t=>_(!0));oe.get(l.NADA)?.set(l.TEXT,t=>ne("Nada")).set(l.BOOLEAN,t=>_(!1));function Jt(t,e,n){if(e==null||!e.kind)throw t.TuberInterpreterError("Valor de origen corrupto al intentar convertirlo a otro tipo");if(e.kind===n)return e;let r=oe.get(e.kind);if(r==null)throw t.TuberInterpreterError("Tipo de origen inv\xE1lido al intentar convertir un valor a otro tipo");let s=r.get(n);if(s==null)throw t.TuberInterpreterError(`No se puede convertir un valor de tipo ${ft.get(e.kind)} a ${ft.get(n)??"Desconocido"}`);switch(e.kind){case l.LIST:return s(e.elements,t);case l.REGISTRY:return s(e.entries,t);case l.NATIVE_FN:case l.FUNCTION:return s(null,t);default:return s(e.value,t)}}Jn.exports={ValueKinds:l,ValueKindTranslationLookups:ft,defaultValueOf:ti,isOperable:ni,isInternalOperable:jn,isValidText:ri,isBoolean:si,isList:ai,isRegistry:ii,isEmbed:oi,isNada:ci,extendList:li,makeNumber:be,makeText:ne,makeBoolean:_,toggleBoolean:Ei,makeList:gt,makeRegistry:Tt,makeEmbed:Wt,makeNativeFunction:Qn,makeFunction:pi,makeLambda:fi,makeNada:nt,makeValue:gi,coerceValue:Jt}});var he=b((Zd,Zn)=>{function*Ti(t){let e=t;for(;;)yield e++}var rt;{let t=function(e=null){return(e!=null||rt.gen==null)&&(rt.gen=Ti(e||0)),rt.gen.next().value};t.gen=null,rt=t}function Si(t,e=200,n="..."){if(typeof t!="string")throw TypeError("El texto debe ser un string");if(typeof e!="number")throw TypeError("El m\xE1ximo debe ser un n\xFAmero");if(typeof n!="string")throw TypeError("El suspensor debe ser un string");return t.length<e?t:`${t.slice(0,e-n.length)}${n}`}var bi=["millones","miles de millones","billones","miles de billones","trillones","miles de trillones","cuatrillones","miles de cuatrillones","quintillones","miles de quintillones","sextillones","miles de sextillones","septillones","miles de septillones","octillones","miles de octillones","nonillones","miles de nonillones","decillones","miles de decillones","undecillones","miles de undecillones","duodecillones","miles de duodecillones","tredecillones","miles de tredecillones","quattuordecillones","miles de quattuordecillones","quindecillones","miles de quindecillones","sexdecillones","miles de sexdecillones"];function Ai(t,e=!1,n=1){if(typeof t=="string"&&(t=parseFloat(t)),isNaN(t))return"0";let r=(c,d={})=>c.toLocaleString("en",{maximumFractionDigits:2,minimumIntegerDigits:n,...d});if(t<1e6||!e)return r(t);let s=Math.pow(10,100);if(t>=s)return`${r(t/s,{maximumFractionDigits:4})} G\xFAgol`;let a=bi,i=t<Math.pow(10,6+a.length*3)?Math.floor((t.toLocaleString("fullwide",{useGrouping:!1}).length-7)/3):a.length-1;return[r(t/Math.pow(1e3,i+2),{minimumFractionDigits:2}),a[i]].join(" ")}function Ni(t,e={}){let{removeCarriageReturns:n=!1}=e;return t=t.replace(/[áéíóúàèìòùâêîôûäëïöüāēīōūãñçõ]/gi,r=>r.normalize("NFD").replace(/[\u0300-\u036f]/,"")).toLowerCase(),n&&(t=t.replace(/\r/g,"")),t}function vi(t,e=!0){t=+t;let n=t<0?-1:1;t=t*n;let r=(Date.now()*.001+t*Math.random())%t*n;return e?Math.floor(r):r}function ki(t,e,n=!0){t=+t,e=+e;let r=e-t,s=t+(Date.now()*.001+r*Math.random())%r;return n?Math.floor(s):s}function Ri(t,e,n){if(e>n){let r=e;e=n,n=r}return Math.max(e,Math.min(t,n))}function Li(t){if(typeof t!="string")throw TypeError("Se esperaba un string de hexadecimal para convertir a n\xFAmero");return t.length?(t.startsWith("#")&&(t=t.slice(1)),parseInt(`0x${t}`)):0}Zn.exports={iota:rt,toLowerCaseNormalized:Ni,shortenText:Si,improveNumber:Ai,rand:vi,randRange:ki,clamp:Ri,stringHexToNumber:Li}});var tr=b((eh,er)=>{"use strict";er.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Zt=b((th,rr)=>{var st=tr(),nr={};for(let t of Object.keys(st))nr[st[t]]=t;var p={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};rr.exports=p;for(let t of Object.keys(p)){if(!("channels"in p[t]))throw new Error("missing channels property: "+t);if(!("labels"in p[t]))throw new Error("missing channel labels property: "+t);if(p[t].labels.length!==p[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=p[t];delete p[t].channels,delete p[t].labels,Object.defineProperty(p[t],"channels",{value:e}),Object.defineProperty(p[t],"labels",{value:n})}p.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(e,n,r),a=Math.max(e,n,r),i=a-s,o,c;a===s?o=0:e===a?o=(n-r)/i:n===a?o=2+(r-e)/i:r===a&&(o=4+(e-n)/i),o=Math.min(o*60,360),o<0&&(o+=360);let d=(s+a)/2;return a===s?c=0:d<=.5?c=i/(a+s):c=i/(2-a-s),[o,c*100,d*100]};p.rgb.hsv=function(t){let e,n,r,s,a,i=t[0]/255,o=t[1]/255,c=t[2]/255,d=Math.max(i,o,c),g=d-Math.min(i,o,c),T=function(V){return(d-V)/6/g+1/2};return g===0?(s=0,a=0):(a=g/d,e=T(i),n=T(o),r=T(c),i===d?s=r-n:o===d?s=1/3+e-r:c===d&&(s=2/3+n-e),s<0?s+=1:s>1&&(s-=1)),[s*360,a*100,d*100]};p.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],s=p.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[s,a*100,r*100]};p.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(1-e,1-n,1-r),a=(1-e-s)/(1-s)||0,i=(1-n-s)/(1-s)||0,o=(1-r-s)/(1-s)||0;return[a*100,i*100,o*100,s*100]};function Oi(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}p.rgb.keyword=function(t){let e=nr[t];if(e)return e;let n=1/0,r;for(let s of Object.keys(st)){let a=st[s],i=Oi(t,a);i<n&&(n=i,r=s)}return r};p.keyword.rgb=function(t){return st[t]};p.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let s=e*.4124+n*.3576+r*.1805,a=e*.2126+n*.7152+r*.0722,i=e*.0193+n*.1192+r*.9505;return[s*100,a*100,i*100]};p.rgb.lab=function(t){let e=p.rgb.xyz(t),n=e[0],r=e[1],s=e[2];n/=95.047,r/=100,s/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let a=116*r-16,i=500*(n-r),o=200*(r-s);return[a,i,o]};p.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,s,a,i;if(n===0)return i=r*255,[i,i,i];r<.5?s=r*(1+n):s=r+n-r*n;let o=2*r-s,c=[0,0,0];for(let d=0;d<3;d++)a=e+1/3*-(d-1),a<0&&a++,a>1&&a--,6*a<1?i=o+(s-o)*6*a:2*a<1?i=s:3*a<2?i=o+(s-o)*(2/3-a)*6:i=o,c[d]=i*255;return c};p.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,s=n,a=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,s*=a<=1?a:2-a;let i=(r+n)/2,o=r===0?2*s/(a+s):2*n/(r+n);return[e,o*100,i*100]};p.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,s=Math.floor(e)%6,a=e-Math.floor(e),i=255*r*(1-n),o=255*r*(1-n*a),c=255*r*(1-n*(1-a));switch(r*=255,s){case 0:return[r,c,i];case 1:return[o,r,i];case 2:return[i,r,c];case 3:return[i,o,r];case 4:return[c,i,r];case 5:return[r,i,o]}};p.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,s=Math.max(r,.01),a,i;i=(2-n)*r;let o=(2-n)*s;return a=n*s,a/=o<=1?o:2-o,a=a||0,i/=2,[e,a*100,i*100]};p.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,s=n+r,a;s>1&&(n/=s,r/=s);let i=Math.floor(6*e),o=1-r;a=6*e-i,i&1&&(a=1-a);let c=n+a*(o-n),d,g,T;switch(i){default:case 6:case 0:d=o,g=c,T=n;break;case 1:d=c,g=o,T=n;break;case 2:d=n,g=o,T=c;break;case 3:d=n,g=c,T=o;break;case 4:d=c,g=n,T=o;break;case 5:d=o,g=n,T=c;break}return[d*255,g*255,T*255]};p.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,s=t[3]/100,a=1-Math.min(1,e*(1-s)+s),i=1-Math.min(1,n*(1-s)+s),o=1-Math.min(1,r*(1-s)+s);return[a*255,i*255,o*255]};p.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,s,a,i;return s=e*3.2406+n*-1.5372+r*-.4986,a=e*-.9689+n*1.8758+r*.0415,i=e*.0557+n*-.204+r*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),[s*255,a*255,i*255]};p.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let s=116*n-16,a=500*(e-n),i=200*(n-r);return[s,a,i]};p.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],s,a,i;a=(e+16)/116,s=n/500+a,i=a-r/200;let o=a**3,c=s**3,d=i**3;return a=o>.008856?o:(a-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i=d>.008856?d:(i-16/116)/7.787,s*=95.047,a*=100,i*=108.883,[s,a,i]};p.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],s;s=Math.atan2(r,n)*360/2/Math.PI,s<0&&(s+=360);let i=Math.sqrt(n*n+r*r);return[e,i,s]};p.lch.lab=function(t){let e=t[0],n=t[1],s=t[2]/360*2*Math.PI,a=n*Math.cos(s),i=n*Math.sin(s);return[e,a,i]};p.rgb.ansi16=function(t,e=null){let[n,r,s]=t,a=e===null?p.rgb.hsv(t)[2]:e;if(a=Math.round(a/50),a===0)return 30;let i=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return a===2&&(i+=60),i};p.hsv.ansi16=function(t){return p.rgb.ansi16(p.hsv.rgb(t),t[2])};p.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};p.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(~~(t>50)+1)*.5,r=(e&1)*n*255,s=(e>>1&1)*n*255,a=(e>>2&1)*n*255;return[r,s,a]};p.ansi256.rgb=function(t){if(t>=232){let a=(t-232)*10+8;return[a,a,a]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[n,r,s]};p.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};p.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(o=>o+o).join(""));let r=parseInt(n,16),s=r>>16&255,a=r>>8&255,i=r&255;return[s,a,i]};p.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(Math.max(e,n),r),a=Math.min(Math.min(e,n),r),i=s-a,o,c;return i<1?o=a/(1-i):o=0,i<=0?c=0:s===e?c=(n-r)/i%6:s===n?c=2+(r-e)/i:c=4+(e-n)/i,c/=6,c%=1,[c*360,i*100,o*100]};p.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),s=0;return r<1&&(s=(n-.5*r)/(1-r)),[t[0],r*100,s*100]};p.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,s=0;return r<1&&(s=(n-r)/(1-r)),[t[0],r*100,s*100]};p.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let s=[0,0,0],a=e%1*6,i=a%1,o=1-i,c=0;switch(Math.floor(a)){case 0:s[0]=1,s[1]=i,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=i;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=i,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}return c=(1-n)*r,[(n*s[0]+c)*255,(n*s[1]+c)*255,(n*s[2]+c)*255]};p.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),s=0;return r>0&&(s=e/r),[t[0],s*100,r*100]};p.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,s=0;return r>0&&r<.5?s=e/(2*r):r>=.5&&r<1&&(s=e/(2*(1-r))),[t[0],s*100,r*100]};p.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};p.hwb.hcg=function(t){let e=t[1]/100,r=1-t[2]/100,s=r-e,a=0;return s<1&&(a=(r-s)/(1-s)),[t[0],s*100,a*100]};p.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};p.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};p.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};p.gray.hsl=function(t){return[0,0,t[0]]};p.gray.hsv=p.gray.hsl;p.gray.hwb=function(t){return[0,100,t[0]]};p.gray.cmyk=function(t){return[0,0,0,t[0]]};p.gray.lab=function(t){return[t[0],0,0]};p.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};p.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var ar=b((nh,sr)=>{var St=Zt();function Ii(){let t={},e=Object.keys(St);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function Mi(t){let e=Ii(),n=[t];for(e[t].distance=0;n.length;){let r=n.pop(),s=Object.keys(St[r]);for(let a=s.length,i=0;i<a;i++){let o=s[i],c=e[o];c.distance===-1&&(c.distance=e[r].distance+1,c.parent=r,n.unshift(o))}}return e}function xi(t,e){return function(n){return e(t(n))}}function yi(t,e){let n=[e[t].parent,t],r=St[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),r=xi(St[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}sr.exports=function(t){let e=Mi(t),n={},r=Object.keys(e);for(let s=r.length,a=0;a<s;a++){let i=r[a];e[i].parent!==null&&(n[i]=yi(i,e))}return n}});var or=b((rh,ir)=>{var en=Zt(),wi=ar(),_e={},Ci=Object.keys(en);function Bi(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function Ui(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let s=t(n);if(typeof s=="object")for(let a=s.length,i=0;i<a;i++)s[i]=Math.round(s[i]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}Ci.forEach(t=>{_e[t]={},Object.defineProperty(_e[t],"channels",{value:en[t].channels}),Object.defineProperty(_e[t],"labels",{value:en[t].labels});let e=wi(t);Object.keys(e).forEach(r=>{let s=e[r];_e[t][r]=Ui(s),_e[t][r].raw=Bi(s)})});ir.exports=_e});var mr=b((sh,hr)=>{"use strict";var cr=(t,e)=>(...n)=>`\x1B[${t(...n)+e}m`,lr=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};5;${r}m`},ur=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`},bt=t=>t,dr=(t,e,n)=>[t,e,n],Ve=(t,e,n)=>{Object.defineProperty(t,e,{get:()=>{let r=n();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},tn,Ge=(t,e,n,r)=>{tn===void 0&&(tn=or());let s=r?10:0,a={};for(let[i,o]of Object.entries(tn)){let c=i==="ansi16"?"ansi":i;i===e?a[c]=t(n,s):typeof o=="object"&&(a[c]=t(o[e],s))}return a};function Di(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[n,r]of Object.entries(e)){for(let[s,a]of Object.entries(r))e[s]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},r[s]=e[s],t.set(a[0],a[1]);Object.defineProperty(e,n,{value:r,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",Ve(e.color,"ansi",()=>Ge(cr,"ansi16",bt,!1)),Ve(e.color,"ansi256",()=>Ge(lr,"ansi256",bt,!1)),Ve(e.color,"ansi16m",()=>Ge(ur,"rgb",dr,!1)),Ve(e.bgColor,"ansi",()=>Ge(cr,"ansi16",bt,!0)),Ve(e.bgColor,"ansi256",()=>Ge(lr,"ansi256",bt,!0)),Ve(e.bgColor,"ansi16m",()=>Ge(ur,"rgb",dr,!0)),e}Object.defineProperty(hr,"exports",{enumerable:!0,get:Di})});var pr=b((ah,Er)=>{"use strict";Er.exports={stdout:!1,stderr:!1}});var gr=b((ih,fr)=>{"use strict";var Fi=(t,e,n)=>{let r=t.indexOf(e);if(r===-1)return t;let s=e.length,a=0,i="";do i+=t.substr(a,r-a)+e+n,a=r+s,r=t.indexOf(e,a);while(r!==-1);return i+=t.substr(a),i},$i=(t,e,n,r)=>{let s=0,a="";do{let i=t[r-1]==="\r";a+=t.substr(s,(i?r-1:r)-s)+e+(i?`\r
`:`
`)+n,s=r+1,r=t.indexOf(`
`,s)}while(r!==-1);return a+=t.substr(s),a};fr.exports={stringReplaceAll:Fi,stringEncaseCRLFWithFirstIndex:$i}});var Nr=b((oh,Ar)=>{"use strict";var Pi=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Tr=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,qi=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,_i=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Vi=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function br(t){let e=t[0]==="u",n=t[1]==="{";return e&&!n&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&n?String.fromCodePoint(parseInt(t.slice(2,-1),16)):Vi.get(t)||t}function Gi(t,e){let n=[],r=e.trim().split(/\s*,\s*/g),s;for(let a of r){let i=Number(a);if(!Number.isNaN(i))n.push(i);else if(s=a.match(qi))n.push(s[2].replace(_i,(o,c,d)=>c?br(c):d));else throw new Error(`Invalid Chalk template style argument: ${a} (in style '${t}')`)}return n}function Xi(t){Tr.lastIndex=0;let e=[],n;for(;(n=Tr.exec(t))!==null;){let r=n[1];if(n[2]){let s=Gi(r,n[2]);e.push([r].concat(s))}else e.push([r])}return e}function Sr(t,e){let n={};for(let s of e)for(let a of s.styles)n[a[0]]=s.inverse?null:a.slice(1);let r=t;for(let[s,a]of Object.entries(n))if(Array.isArray(a)){if(!(s in r))throw new Error(`Unknown Chalk style: ${s}`);r=a.length>0?r[s](...a):r[s]}return r}Ar.exports=(t,e)=>{let n=[],r=[],s=[];if(e.replace(Pi,(a,i,o,c,d,g)=>{if(i)s.push(br(i));else if(c){let T=s.join("");s=[],r.push(n.length===0?T:Sr(t,n)(T)),n.push({inverse:o,styles:Xi(c)})}else if(d){if(n.length===0)throw new Error("Found extraneous } in Chalk template literal");r.push(Sr(t,n)(s.join(""))),s=[],n.pop()}else s.push(g)}),r.push(s.join("")),n.length>0){let a=`Chalk template literal is missing ${n.length} closing bracket${n.length===1?"":"s"} (\`}\`)`;throw new Error(a)}return r.join("")}});var Mr=b((ch,Ir)=>{"use strict";var at=mr(),{stdout:rn,stderr:sn}=pr(),{stringReplaceAll:Ki,stringEncaseCRLFWithFirstIndex:Hi}=gr(),{isArray:At}=Array,kr=["ansi","ansi","ansi256","ansi16m"],Xe=Object.create(null),zi=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let n=rn?rn.level:0;t.level=e.level===void 0?n:e.level},an=class{constructor(e){return Rr(e)}},Rr=t=>{let e={};return zi(e,t),e.template=(...n)=>Or(e.template,...n),Object.setPrototypeOf(e,Nt.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=an,e.template};function Nt(t){return Rr(t)}for(let[t,e]of Object.entries(at))Xe[t]={get(){let n=vt(this,on(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:n}),n}};Xe.visible={get(){let t=vt(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var Lr=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of Lr)Xe[t]={get(){let{level:e}=this;return function(...n){let r=on(at.color[kr[e]][t](...n),at.color.close,this._styler);return vt(this,r,this._isEmpty)}}};for(let t of Lr){let e="bg"+t[0].toUpperCase()+t.slice(1);Xe[e]={get(){let{level:n}=this;return function(...r){let s=on(at.bgColor[kr[n]][t](...r),at.bgColor.close,this._styler);return vt(this,s,this._isEmpty)}}}}var Yi=Object.defineProperties(()=>{},{...Xe,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),on=(t,e,n)=>{let r,s;return n===void 0?(r=t,s=e):(r=n.openAll+t,s=e+n.closeAll),{open:t,close:e,openAll:r,closeAll:s,parent:n}},vt=(t,e,n)=>{let r=(...s)=>At(s[0])&&At(s[0].raw)?vr(r,Or(r,...s)):vr(r,s.length===1?""+s[0]:s.join(" "));return Object.setPrototypeOf(r,Yi),r._generator=t,r._styler=e,r._isEmpty=n,r},vr=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let n=t._styler;if(n===void 0)return e;let{openAll:r,closeAll:s}=n;if(e.indexOf("\x1B")!==-1)for(;n!==void 0;)e=Ki(e,n.close,n.open),n=n.parent;let a=e.indexOf(`
`);return a!==-1&&(e=Hi(e,s,r,a)),r+e+s},nn,Or=(t,...e)=>{let[n]=e;if(!At(n)||!At(n.raw))return e.join(" ");let r=e.slice(1),s=[n.raw[0]];for(let a=1;a<n.length;a++)s.push(String(r[a-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[a]));return nn===void 0&&(nn=Nr()),nn(t,s.join(""))};Object.defineProperties(Nt.prototype,Xe);var kt=Nt();kt.supportsColor=rn;kt.stderr=Nt({level:sn?sn.level:0});kt.stderr.supportsColor=sn;Ir.exports=kt});var wr=b((lh,yr)=>{var{shortenText:ji}=he(),{EmbedData:Qi}=zt(),M=Mr(),ce={orange:M.rgb(237,171,130),ice:M.rgb(27,247,236),mint:M.rgb(13,222,191),peach:M.rgb(237,130,157)};function xr(t){return t?.constructor?.name&&!["Object","Array","Map","EmbedData"].includes(t.constructor.name)}function Wi(t){let e;switch(typeof t){case"number":e=M.yellowBright(t);break;case"string":e=M.greenBright(`'${t}'`);break;case"boolean":e=ce.orange(`${t}`);break;case"bigint":e=M.yellowBright(`${t}n`);break;case"symbol":e=M.italic.greenBright(t.toString());break;case"function":let n=t.toString().slice(9+t.name.length).replace(/(\r?\n)+/g,"").replace(/[\t ]+/g," ");e=ce.peach(`fn ${t.name!=null?ce.ice(t.name):ce.mint.italic("<anon>")}${M.gray(ji(n,48))}`);break;case"undefined":e=M.bold.gray("undefined");break;default:e=t;break}return e}function Ji(t){let e=Array.isArray(t),n=e?"[]":"{}",r="";if(!e){if(t.hasOwnProperty("equals")){let{equals:o,...c}=t;t=c}if(t.hasOwnProperty("compareTo")){let{compareTo:o,...c}=t;t=c}if(t.hasOwnProperty("kind")){let{kind:o,...c}=t;t=c,r=M.cyan(`${o} `)}if(Object.keys(t).length===0)return r??M.gray(n)}let s=`${r}${M.gray(n[0])} `,a=e?o=>"":o=>`${o}: `,i=!0;for(let o in t)if(i?i=!1:s+=M.gray(", "),t.hasOwnProperty(o)){let c=t[o];s+=`${a(o)}${ye(c)}`}return s+=` ${M.gray(n[1])}`,s}function Zi(t,e=2,n=e){let r=" ".repeat(n),s=ce.orange(`Map (${ce.ice(t.size)})`);if(t.size===0)return s;s+=` ${M.gray("{")}
`;for(let[a,i]of t.entries()){let o=ye(a,e,n+e),c=ye(i,e,n+e);s+=`${r}${M.gray(`(${o})`)} ${ce.ice("\u2192")} ${c}
`}return r=" ".repeat(n-e),s+=`${r}${M.gray("}")}`,s}function ye(t,e=2,n=e){if(typeof t!="object")return Wi(t);if(t==null)return M.red("null");if(t instanceof Map)return Zi(t,e,n);if(t instanceof Qi)return ye(t.data,e,n);if(xr(t))return ce.orange(t.toString());let r=Array.isArray(t),s=r?"[]":"{}",a=!1,i=!1,o="",c=2;if(r){if(t.length===0)return M.gray(s)}else{if(a=t.hasOwnProperty("kind"),t.hasOwnProperty("equals")){let{equals:R,...H}=t;t=H}if(t.hasOwnProperty("compareTo")){let{compareTo:R,...H}=t;t=H}a&&(c=3,t.hasOwnProperty("line")&&(i=!0))}let d=Object.values(t);if(d.length<=c&&d.every(R=>typeof R!="object"||R==null||xr(R))){let R=Ji(t);if(R.length<192)return R}if(!r&&a)if(i){let{kind:R,line:H,column:se,start:W,end:Kt,...ja}=t;t=ja,o=M.cyan(`${R} ${ce.peach(`(${ce.mint(H)}, ${ce.mint(`${W}~${Kt}`)})`)} `)}else{let{kind:R,...H}=t;t=H,o=M.cyan(`${R} `)}if(d.length===0)return o??M.gray(s);let g=" ".repeat(n),T=`${o}${M.gray(s[0])}
`,V=r?R=>`${g}`:R=>`${g}${R}: `;for(let R in t)if(t.hasOwnProperty(R)){let H=t[R];T+=`${V(R)}${ye(H,e,n+e)}
`}return g=" ".repeat(n-e),T+=`${g}${M.gray(s[1])}`,T}function eo(t,e=2,n=0){let r=e+e*n;console.log(ye(t,e,r))}yr.exports={stringifyPSAST:ye,logPSAST:eo}});var J=b((uh,Br)=>{var u={LIT_NUMBER:"Number",LIT_TEXT:"String",LIT_BOOLEAN:"Boolean",IDENTIFIER:"Identifier",PAREN_OPEN:"ParenOpen",PAREN_CLOSE:"ParenClose",BLOCK_OPEN:"BlockOpen",BLOCK_CLOSE:"BlockClose",IF:"If",ELSE:"Else",ELSE_IF:"ElseIf",WHILE:"While",DO:"Do",UNTIL:"Until",REPEAT:"Repeat",FOR_EACH:"ForEach",FOR:"For",READ:"Read",CREATE:"Create",SAVE:"Save",LOAD:"Load",ADD:"Add",SUBTRACT:"Subtract",MULTIPLY:"Multiply",DIVIDE:"Divide",EXTEND:"Extend",DELETE:"Delete",EXECUTE:"Execute",RETURN:"Return",END:"End",STOP:"Stop",SEND:"Send",COMMENT:"Comment",OR:"Or",AND:"And",NOT:"Not",EQUALS:"Equals",NOT_EQUALS:"NotEquals",SEEMS:"Seems",NOT_SEEMS:"NotSeems",LESS:"Less",LESS_EQUALS:"LessEquals",GREATER:"Greater",GREATER_EQUALS:"GreaterEquals",ASSIGNMENT:"Assignment",ARROW:"Arrow",COLON:"Colon",COMMA:"Comma",LAMBDA:"Lambda",TIMES:"Times",DOT:"Dot",IN:"In",FROM:"From",OPTIONAL:"Optional",PLUS:"Plus",DASH:"Dash",STAR:"Star",SLASH:"Slash",PERCENT:"Percent",CARET:"Caret",DOUBLE_STAR:"DoubleStar",NUMBER:"NumberKind",TEXT:"TextKind",BOOLEAN:"BooleanKind",LIST:"List",REGISTRY:"Registry",EMBED:"Embed",INPUT:"Input",FUNCTION:"Function",NADA:"Nada",EOF:"EOF"},it=new Map;it.set(u.LIT_NUMBER,"Literal de N\xFAmero").set(u.LIT_TEXT,"Literal de Texto").set(u.LIT_BOOLEAN,"Literal de L\xF3gico").set(u.IDENTIFIER,"Identificador").set(u.PAREN_OPEN,"Inicio de agrupamiento `(`").set(u.PAREN_CLOSE,"Fin de agrupamiento `)`").set(u.BLOCK_OPEN,"Sentencia `BLOQUE`").set(u.BLOCK_CLOSE,"Sentencia `FIN`").set(u.IF,"Sentencia `SI`").set(u.ELSE,"Sentencia `SINO`").set(u.ELSE_IF,"Sentencias `SINO SI`").set(u.WHILE,"Sentencia `MIENTRAS`").set(u.DO,"Sentencia `HACER`").set(u.UNTIL,"Sentencia `HASTA` u operador especial `hasta`").set(u.REPEAT,"Sentencia `REPETIR`").set(u.FOR_EACH,"Sentencia `PARA CADA`").set(u.FOR,"Sentencia `PARA`").set(u.READ,"Sentencia `LEER`").set(u.CREATE,"Sentencia `CREAR`").set(u.SAVE,"Sentencia `GUARDAR`").set(u.LOAD,"Sentencia `CARGAR`").set(u.ADD,"Sentencia `SUMAR`").set(u.SUBTRACT,"Sentencia `RESTAR`").set(u.MULTIPLY,"Sentencia `MULTIPLICAR`").set(u.DIVIDE,"Sentencia `DIVIDIR`").set(u.EXTEND,"Sentencia `EXTENDER`").set(u.DELETE,"Sentencia `BORRAR`").set(u.EXECUTE,"Sentencia `EJECUTAR`").set(u.RETURN,"Sentencia `DEVOLVER`").set(u.END,"Sentencia `TERMINAR`").set(u.STOP,"Sentencia `PARAR`").set(u.SEND,"Sentencia `ENVIAR`").set(u.COMMENT,"Sentencia `COMENTAR`").set(u.OR,"Operador `o`").set(u.AND,"Operador `y`").set(u.NOT,"Operador `no`").set(u.EQUALS,"Operador `es`").set(u.NOT_EQUALS,"Operador `no es`").set(u.SEEMS,"Operador `parece`").set(u.NOT_SEEMS,"Operador `no parece`").set(u.LESS,"Operador `precede`").set(u.LESS_EQUALS,"Operador `no excede`").set(u.GREATER,"Operador `excede`").set(u.GREATER_EQUALS,"Operador `no precede`").set(u.ASSIGNMENT,"Operador `con`").set(u.ARROW,"Operador de flecha `->`").set(u.COLON,"Operador `:`").set(u.COMMA,"Operador `,`").set(u.LAMBDA,"Operador Lambda").set(u.TIMES,"Operador especial `veces`").set(u.DOT,"Operador `.`").set(u.IN,"Operador especial `en`").set(u.FROM,"Operador especial `desde`").set(u.OPTIONAL,"Operador especial `opcional`").set(u.PLUS,"Operador `+`").set(u.DASH,"Operador `-`").set(u.STAR,"Operador `*`").set(u.SLASH,"Operador `/`").set(u.PERCENT,"Operador `%`").set(u.CARET,"Operador `^`").set(u.DOUBLE_STAR,"Operador `**`").set(u.NUMBER,"Tipo N\xFAmero").set(u.TEXT,"Tipo Texto").set(u.BOOLEAN,"Tipo L\xF3gico").set(u.LIST,"Tipo Lista").set(u.REGISTRY,"Tipo Registro").set(u.EMBED,"Tipo Marco").set(u.INPUT,"Tipo Entrada").set(u.FUNCTION,"Tipo Funci\xF3n").set(u.NADA,"Tipo u Valor Nada").set(u.EOF,"Fin de C\xF3digo");function to(t){return it.get(t)}function no(...t){return t.map(e=>it.get(e))}var Cr=[u.BLOCK_OPEN,u.BLOCK_CLOSE,u.IF,u.ELSE,u.ELSE_IF,u.WHILE,u.DO,u.UNTIL,u.REPEAT,u.FOR_EACH,u.FOR,u.READ,u.CREATE,u.SAVE,u.LOAD,u.ADD,u.SUBTRACT,u.MULTIPLY,u.DIVIDE,u.EXTEND,u.DELETE,u.EXECUTE,u.RETURN,u.END,u.STOP,u.SEND,u.COMMENT],ro={NUMBER:"N\xFAmero",TEXT:"Texto",BOOLEAN:"L\xF3gico",LIST:"Lista",REGISTRY:"Registro",EMBED:"Marco",INPUT:"Entrada"},Rt=class{#e;#t;#r;#s;#i;#o;#a;isStatement;constructor(e,n,r,s,a,i,o){if(!Object.values(u).includes(n))throw`Tipo de token inv\xE1lido: ${n}`;if(s<1)throw"La l\xEDnea de inicio del token debe ser al menos 1";if(a<1)throw"La columna inicial del token debe ser al menos 1";if(i<0)throw"La posici\xF3n de inicio del token debe ser al menos 0";if(o<1)throw"El largo del token debe ser al menos 1";this.#e=e,this.#t=n,this.#r=r,this.#s=s,this.#i=a,this.#o=i,this.#a=o,this.isStatement=Cr.includes(this.#t)}get kind(){return this.#t}get translated(){return it.get(this.#t)}get value(){return this.#r}get line(){return this.#s}get column(){return this.#i}get start(){return this.#o}get end(){return this.#o+this.#a}get length(){return this.#a}get lineString(){return this.#e.sourceLines[this.#s-1]}get sourceString(){return this.#e.source.slice(this.start,this.end)}get json(){return{kind:this.#t,value:this.#r,line:this.#s,column:this.#i,start:this.#o,end:this.end,length:this.#a,lineString:this.lineString,sourceString:this.sourceString}}is(e){return this.#t===e}isAny(...e){return e.includes(this.#t)}get[Symbol.toStringTag](){return this.value==null?this.#t:`${this.#t} (${this.#r})`}};Rt.prototype.toString=function(){return this.value==null?this.kind:`${this.kind} (${this.value})`};Br.exports={TokenKinds:u,TokenKindTranslations:it,translateTokenKind:to,translateTokenKinds:no,StatementVerbs:Cr,DataKindValues:ro,Token:Rt}});var ln=b((dh,Ur)=>{var{TokenKinds:h,Token:Ke}=J(),{shortenText:so,toLowerCaseNormalized:ao}=he(),cn=class{#e;#t;#r;#s;#i;#o;#a;#c;handleCommentStatement;constructor(){this.#r=[],this.#s=null,this.#i=[],this.#o=this.#a=this.#c=1,this.#e=[{match:"verdadero",kind:h.LIT_BOOLEAN,value:!0},{match:"falso",kind:h.LIT_BOOLEAN,value:!1},{match:"es",kind:h.EQUALS},{match:"parece",kind:h.SEEMS},{match:"precede",kind:h.LESS},{match:"excede",kind:h.GREATER},{match:"o",kind:h.OR},{match:"y",kind:h.AND},{match:"no",kind:h.NOT},{match:"con",kind:h.ASSIGNMENT},{match:"en",kind:h.IN},{match:"desde",kind:h.FROM},{match:"veces",kind:h.TIMES},{match:"opcional",kind:h.OPTIONAL},{match:"bloque",kind:h.BLOCK_OPEN},{match:"fin",kind:h.BLOCK_CLOSE},{match:"si",kind:h.IF},{match:"sino",kind:h.ELSE},{match:"mientras",kind:h.WHILE},{match:"hacer",kind:h.DO},{match:"hasta",kind:h.UNTIL},{match:"repetir",kind:h.REPEAT},{match:"para",kind:h.FOR},{match:"leer",kind:h.READ},{match:"crear",kind:h.CREATE},{match:"guardar",kind:h.SAVE},{match:"cargar",kind:h.LOAD},{match:"sumar",kind:h.ADD},{match:"restar",kind:h.SUBTRACT},{match:"multiplicar",kind:h.MULTIPLY},{match:"dividir",kind:h.DIVIDE},{match:"extender",kind:h.EXTEND},{match:"borrar",kind:h.DELETE},{match:"ejecutar",kind:h.EXECUTE},{match:"usar",kind:h.EXECUTE},{match:"devolver",kind:h.RETURN},{match:"terminar",kind:h.END},{match:"parar",kind:h.STOP},{match:"enviar",kind:h.SEND},{match:"decir",kind:h.SEND},{match:"comentar",kind:h.COMMENT},{match:"numero",kind:h.NUMBER},{match:"texto",kind:h.TEXT},{match:"logico",kind:h.BOOLEAN},{match:"lista",kind:h.LIST},{match:"registro",kind:h.REGISTRY},{match:"marco",kind:h.EMBED},{match:"funcion",kind:h.FUNCTION},{match:"nada",kind:h.NADA,value:null}],this.#t=[{match:/^\r?\n/,handler:this.#l()},{match:/^[ \t\r]+/,handler:this.#m()},{match:/^\/\/.*/,handler:this.#m()},{match:"(",handler:this.#n(h.PAREN_OPEN)},{match:")",handler:this.#n(h.PAREN_CLOSE)},{match:"->",handler:this.#n(h.ARROW)},{match:":",handler:this.#n(h.COLON)},{match:",",handler:this.#n(h.COMMA)},{match:"=>",handler:this.#n(h.LAMBDA)},{match:"+",handler:this.#n(h.PLUS)},{match:"-",handler:this.#n(h.DASH)},{match:"*",handler:this.#n(h.STAR)},{match:"/",handler:this.#n(h.SLASH)},{match:"%",handler:this.#n(h.PERCENT)},{match:"^",handler:this.#n(h.CARET)},{match:"**",handler:this.#n(h.DOUBLE_STAR)},{match:"<=",handler:this.#n(h.LESS_EQUALS)},{match:"<",handler:this.#n(h.LESS)},{match:">=",handler:this.#n(h.GREATER_EQUALS)},{match:">",handler:this.#n(h.GREATER)},{match:"!=",handler:this.#n(h.NOT_EQUALS)},{match:"==",handler:this.#n(h.EQUALS)},{match:"=",handler:this.#n(h.ASSIGNMENT)},{match:"||",handler:this.#n(h.OR)},{match:"&&",handler:this.#n(h.AND)},{match:"!",handler:this.#n(h.NOT)},{match:"no excede",handler:this.#n(h.LESS_EQUALS)},{match:"no precede",handler:this.#n(h.GREATER_EQUALS)},{match:"no es",handler:this.#n(h.NOT_EQUALS)},{match:"no parece",handler:this.#n(h.NOT_SEEMS)},{match:"sino si",handler:this.#n(h.ELSE_IF)},{match:"para cada",handler:this.#n(h.FOR_EACH)},{match:/^[A-Za-z_][A-Za-z0-9_]{0,99}/,handler:this.#p()},{match:/^(?!_)(([0-9_]+([.][0-9]*)?)|([.][0-9]+))/,handler:this.#u()},{match:".",handler:this.#n(h.DOT)},{match:/^"(\\"|[^"])*"/,handler:this.#h()},{match:/^'(\\'|[^'])*'/,handler:this.#h()},{match:'"',handler:this.#E('Falt\xF3 cerrar comillas dobles (`"`)')},{match:"'",handler:this.#E("Falt\xF3 cerrar comillas simples (`'`)")}]}TuberLexerError(e,n){n??={},n.col??=this.#a,n.line??=this.#c;let r=this.lineString,s=Math.max(1,Math.min(n.col,r.length)),a=n.line;e=["```arm",r,`${" ".repeat(s-1)}\u2191`,"```",`En l\xEDnea **${a}**, columna **${s}** - ${e}`].join(`
`);let i=new Error(e);return i.name="TuberLexerError",i}get source(){return this.#s}get sourceLines(){return this.#i}get pos(){return this.#o}get col(){return this.#a}get line(){return this.#c}get lookupTable(){return this.#e}get lineString(){return this.#i[this.#c-1]}get current(){return this.#s[this.#o-1]}get remainder(){return this.#s.slice(this.#o-1)}get atEOF(){return this.#o-1>=this.#s.length}tokenize(e){if(typeof e!="string")throw this.TuberLexerError("Se esperaba un String v\xE1lido para tokenizar");this.#r=[],this.#s=e.replace(/(^\s+)|(\s+$)/g,""),this.#i=this.#s.split(/\r?\n/g),this.#o=this.#a=this.#c=1,this.handleCommentStatement=!1;let n,r;for(;!this.atEOF;){n=null,r=ao(this.remainder);for(let s of this.#t)if(n=io(s,r),n!=null){let a=this.remainder.slice(0,n.length);s.handler(n,a);break}if(n==null){let s=this.remainder.match(/[\r\s\b]/)?.index??this.remainder.length;throw this.TuberLexerError(`S\xEDmbolo no reconocido: \`${so(this.remainder.slice(0,s),12," (...)")}\``)}}return this.addToken(new Ke(this,h.EOF,"Fin de C\xF3digo",this.#c,this.#a,this.#o-1,1)),[...this.#r]}advance(e=1,n={}){n.advanceColumns??=!1,n.newLine??=!1,this.#o+=e,n.override!=null&&(n.override.col!=null||n.override.line!=null)?(n.override.col!=null&&(this.#a=n.override.col),n.override.line!=null&&(this.#c=n.override.line)):n.newLine?(this.#a=1,this.#c++):n.advanceColumns&&(this.#a+=e)}addToken(e){this.handleCommentStatement||this.#r.push(e)}#n(e){let n=this;return function(r,s){let a=`${s}`.length;n.addToken(new Ke(n,e,s,n.line,n.col,n.pos-1,a)),n.advance(a,{advanceColumns:!0})}}#u(){let e=this;return function(n){let r=n.length,s=+n.replace(/_/g,"");if(isNaN(s))throw e.TuberLexerError("Valor inv\xE1lido en tokenizaci\xF3n de n\xFAmero");e.addToken(new Ke(e,h.LIT_NUMBER,s,e.line,e.col,e.pos-1,r)),e.advance(r,{advanceColumns:!0})}}#h(){let e=this;return function(n,r){let s=n.length,a=r.slice(1,-1).split(""),i=e.col+1,o=e.line,c=-1;for(let d of a)if(d===`
`)i=1,o++;else{if(d==="\\")switch(c=a.indexOf("\\",c+1),a.splice(c,1),a[c]){case"N":case"n":a[c]=`
`;break;case"T":case"t":a[c]="	";break;case'"':break;case"`":break;case"'":break;case"\\":break;default:let g=e.source.split(/\r?\n/g)[o-1];throw e.TuberLexerError(`Caracter de escape inv\xE1lido en literal de Texto: \`${d}\``,{col:i,line:o,lineString:g})}i++}i++,r=a.join(""),e.addToken(new Ke(e,h.LIT_TEXT,r,e.line,e.col,e.pos-1,s)),e.advance(s,{override:{col:i,line:o}}),e.handleCommentStatement=!1}}#p(){let e=this;return function(n,r){let s=n.length,a=e.lookupTable.find(i=>i.match===n);a?a.kind!==h.COMMENT?e.addToken(new Ke(e,a.kind,r,e.line,e.col,e.pos-1,s)):e.handleCommentStatement=!0:e.addToken(new Ke(e,h.IDENTIFIER,r,e.line,e.col,e.pos-1,s)),e.advance(s,{advanceColumns:!0})}}#l(){let e=this;return function(n,r){let s=n.length;e.advance(s,{newLine:!0}),e.handleCommentStatement=!1}}#m(){let e=this;return function(n){let r=n.length;e.advance(r,{advanceColumns:!0})}}#E(e){let n=this;return function(r,s){throw n.TuberLexerError(e)}}};function io(t,e){return typeof t.match=="string"?oo(t.match,e):co(t.match,e)}function oo(t,e){let n=e.slice(0,t.length);return n===t?n:null}function co(t,e){let n=t.exec(e);return n==null||n.index!==0?null:n[0]}Ur.exports={Lexer:cn}});var ot=b((hh,Dr)=>{var{iota:z}=he(),lo={DEFAULT:z(0),COMMA:z(),ASSIGNMENT:z(),LOGICAL_DISJUNCTION:z(),LOGICAL_CONJUNCTION:z(),EQUALITY:z(),RELATIONAL:z(),ADDITIVE:z(),MULTIPLICATIVE:z(),EXPONENTIAL:z(),UNARY:z(),CALL:z(),MEMBER:z(),PRIMARY:z()},uo={LEFT:0,RIGHT:-.5};Dr.exports={BindingPowers:lo,Associativities:uo}});var ct=b((Eh,Fr)=>{var{Token:mh}=J(),un={PROGRAM:"ProgramStatement",BLOCK:"BlockStatement",CONDITIONAL:"ConditionalStatement",WHILE:"WhileStatement",DO_UNTIL:"DoUntilStatement",REPEAT:"RepeatStatement",FOR_EACH:"ForEachStatement",FOR:"ForStatement",EXPRESSION:"ExpressionStatement",READ:"ReadStatement",DECLARATION:"DeclarationStatement",SAVE:"SaveStatement",LOAD:"LoadStatement",DELETE:"DeleteStatement",ASSIGNMENT:"AssignmentStatement",INSERTION:"InsertionStatement",RETURN:"ReturnStatement",END:"EndStatement",STOP:"StopStatement",SEND:"SendStatement"},ho=[un.RETURN,un.END];Fr.exports={StatementKinds:un,ScopeAbortKinds:ho}});var Lt=b((fh,$r)=>{var{Token:ph}=J(),mo={NUMBER_LITERAL:"NumberLiteralExpression",TEXT_LITERAL:"TextLiteralExpression",BOOLEAN_LITERAL:"BooleanLiteralExpression",LIST_LITERAL:"ListLiteralExpression",REGISTRY_LITERAL:"RegistryLiteralExpression",NADA_LITERAL:"NadaLiteralExpression",IDENTIFIER:"Identifier",ARGUMENT:"Argument",UNARY:"UnaryExpression",CAST:"CastExpression",BINARY:"BinaryExpression",ARROW:"ArrowExpression",CALL:"CallExpression",FUNCTION:"FunctionExpression",SEQUENCE:"SequenceExpression"};$r.exports={ExpressionKinds:mo}});var dn=b((Th,Pr)=>{var{Token:gh}=J();function Eo(t,e=void 0){let{start:n,column:r,line:s}=t,a=(e??t).end;return{start:n,end:a,column:r,line:s}}Pr.exports={makeMetadata:Eo}});var Ot=b((vh,Kr)=>{var{TokenKinds:E,translateTokenKind:po,Token:Sh,translateTokenKinds:bh}=J(),{BindingPowers:x}=ot(),{StatementKinds:I,ScopeAbortKinds:fo}=ct(),{ExpressionKinds:we}=Lt(),{makeMetadata:L}=dn(),{makeText:qr,makeNumber:Ah,ValueKinds:_r}=D(),{toLowerCaseNormalized:Vr,clamp:Nh}=he();function me(t,...e){e.length||e.push(E.BLOCK_CLOSE);let n=[];for(;t.hasTokens&&!t.current.isAny(...e);){if(!t.current.isStatement)throw t.TuberParserError(`Se intent\xF3 iniciar una nueva sentencia, pero en lugar de un indicador de sentencia se recibi\xF3: *${po(t.current.kind)}*`);n.push(t.parseStatement())}let r=n.findIndex(s=>fo.includes(s.kind));return r!==-1?n.slice(0,r+1):n}function Ae(t,e,n=null){return n??=e,{kind:I.BLOCK,body:t,...L(e,n)}}function go(t){let e=t.advance(),n=me(t),r=t.expect(E.BLOCK_CLOSE,`Se esperaba un cierre de bloque con Sentencia \`FIN\` en alg\xFAn punto despu\xE9s del indicador \`BLOQUE\` en la l\xEDnea **${e.line}**, columnas **${e.start}** a **${e.end}**. Sin embargo, no se encontr\xF3 ninguna`);return Ae(n,e,r)}function Xr(t){let e=t.advance();t.ensureExpression(`Se esperaba una expresi\xF3n luego de indicador \`SI\`, pero la Sentencia finaliz\xF3 con: *${t.current.translated}*`);let n=t.parseExpression(x.ASSIGNMENT),r=me(t,E.BLOCK_CLOSE,E.ELSE,E.ELSE_IF),s=Ae(r,e,t.current);if(t.ensureAny(E.BLOCK_CLOSE,E.ELSE,E.ELSE_IF).orFail(`Se esperaba un cierre de bloque en alg\xFAn punto despu\xE9s del indicador \`SI\` en la l\xEDnea **${e.line}**, columnas **${e.start}** a **${e.end}**. Sin embargo, no se encontr\xF3 ninguna`),t.current.is(E.BLOCK_CLOSE)){let i=t.advance();return{kind:I.CONDITIONAL,test:n,consequent:s,...L(e,i)}}if(t.current.is(E.ELSE)){let i=t.advance(),o=me(t,E.BLOCK_CLOSE),c=t.expect(E.BLOCK_CLOSE,`Se esperaba un cierre de bloque con Sentencia \`FIN\` en alg\xFAn punto despu\xE9s del indicador \`SINO\` en la l\xEDnea en la l\xEDnea **${i.line}**, columnas **${i.start}** a **${i.end}**. Sin embargo, no se encontr\xF3 ninguna`),d=Ae(o,i,c);return{kind:I.CONDITIONAL,test:n,consequent:s,alternate:d,...L(e,c)}}let a=Xr(t);return{kind:I.CONDITIONAL,test:n,consequent:s,alternate:a,...L(e,a)}}function To(t){let e=t.advance();t.ensureExpression(`Se esperaba una expresi\xF3n luego de indicador \`MIENTRAS\`, pero la Sentencia finaliz\xF3 con: *${t.current.translated}*`);let n=t.parseExpression(x.ASSIGNMENT),r=me(t),s=t.expect(E.BLOCK_CLOSE,`Se esperaba un cierre de bloque con Sentencia \`FIN\` en alg\xFAn punto despu\xE9s del indicador \`MIENTRAS\` en la l\xEDnea **${e.line}**, columnas **${e.start}** a **${e.end}**. Sin embargo, no se encontr\xF3 ninguna`),a=Ae(r,e,s);return{kind:I.WHILE,test:n,body:a,...L(e,s)}}function So(t){let e=t.advance(),n=me(t,E.UNTIL),r=t.expect(E.UNTIL,`Se esperaba un cierre de bloque con Sentencia \`HASTA\` en alg\xFAn punto despu\xE9s del indicador \`HACER\` en la l\xEDnea **${e.line}**, columnas **${e.start}** a **${e.end}**. Sin embargo, no se encontr\xF3 ninguna`),s=Ae(n,e,r);t.ensureExpression(`Se esperaba una expresi\xF3n luego de indicador \`HASTA\`, pero la Sentencia \`HACER\` asociada finaliz\xF3 con: *${t.current.translated}*`);let a=t.parseExpression(x.ASSIGNMENT);return{kind:I.DO_UNTIL,test:a,body:s,...L(e,a)}}function bo(t){let e=t.advance();t.ensureExpression(`Se esperaba una expresi\xF3n luego de indicador \`REPETIR\`, pero la Sentencia finaliz\xF3 con: *${t.current.translated}*`);let n=t.parseExpression(x.ASSIGNMENT),r=t.expect(E.TIMES),s=me(t),a=t.expect(E.BLOCK_CLOSE,`Se esperaba un cierre de bloque con Sentencia \`FIN\` en alg\xFAn punto despu\xE9s del indicador \`REPETIR\` en la l\xEDnea **${e.line}**, columnas **${e.start}** a **${e.end}**. Sin embargo, no se encontr\xF3 ninguna`),i=Ae(s,r,a);return{kind:I.REPEAT,times:n,body:i,...L(e,a)}}function Ao(t){let e=t.advance(),n=t.expect(E.IDENTIFIER,`Se esperaba un identificador en Sentencia \`PARA CADA\`, pero se recibi\xF3: *${t.current.value}*`);t.expect(E.IN),t.ensureExpression(`Se esperaba una expresi\xF3n de contenedor luego de operador \`en\` en Sentencia \`PARA CADA\`, pero la misma finaliz\xF3 con: *${t.current.translated}*`);let r=t.parseExpression(x.COMMA),s=t.current,a=me(t),i=t.expect(E.BLOCK_CLOSE,`Se esperaba un cierre de bloque con Sentencia \`FIN\` en alg\xFAn punto despu\xE9s del indicador \`PARA CADA\` en la l\xEDnea **${e.line}**, columnas **${e.start}** a **${e.end}**. Sin embargo, no se encontr\xF3 ninguna`),o=Ae(a,s,i);return{kind:I.FOR_EACH,identifier:n.value,container:r,body:o,...L(e,i)}}function No(t){let e=t.advance(),n=t.expect(E.IDENTIFIER,`Se esperaba un literal de identificador en Sentencia \`PARA\`, pero se recibi\xF3: *${t.current.value}*`).value,r=!1;if(t.current.is(E.FROM)){let T=t.advance();t.ensureExpression(`Se esperaba una expresi\xF3n luego de operador \`desde\` en Sentencia \`PARA\` corta, pero la misma finaliz\xF3 con: *${t.current.translated}*`);let V=t.parseExpression(x.COMMA);t.expect(E.UNTIL,`Se esperaba operador \`hasta\` en Sentencia \`PARA\` corta, pero se recibi\xF3: *${t.current.value}*`),t.ensureExpression(`Se esperaba una expresi\xF3n luego de operador \`hasta\` en Sentencia \`PARA\` corta, pero la misma finaliz\xF3 con: *${t.current.translated}*`);let R=t.parseExpression(x.COMMA),H=t.current,se=me(t),W=t.expect(E.BLOCK_CLOSE,`Se esperaba un cierre de bloque con Sentencia \`FIN\` en alg\xFAn punto despu\xE9s del indicador \`PARA\` en la l\xEDnea **${T.line}**, columnas **${T.start}** a **${T.end}**. Sin embargo, no se encontr\xF3 ninguna`),Kt=Ae(se,H,W);return{kind:I.FOR,identifier:n,body:Kt,full:r,from:V,to:R,...L(T,W)}}r=!0,t.expect(E.ASSIGNMENT,`Se esperaba el operador \`con\` o \`desde\` luego de identificador en Sentencia \`PARA\`, pero se recibi\xF3: *${t.current.value}*`),t.ensureExpression(`Se esperaba una expresi\xF3n luego de operador \`con\` en paso de inicializaci\xF3n de Sentencia \`PARA\` larga, pero la misma finaliz\xF3 con: *${t.current.translated}*`);let s=t.parseExpression(x.COMMA);t.expect(E.WHILE,`Se esperaba \`MIENTRAS\` en sentencia \`PARA\` larga, pero se recibi\xF3: *${t.current.value}*`),t.ensureExpression(`Se esperaba una expresi\xF3n en paso de condici\xF3n de Sentencia \`PARA\` larga, pero la misma finaliz\xF3 con: *${t.current.translated}*`);let a=t.parseExpression(x.ASSIGNMENT);t.ensureStatement(`Se esperaba una Sentencia en paso de actualizaci\xF3n de Sentencia \`PARA\` larga, pero la misma finaliz\xF3 con: *${t.current.translated}*`);let i=t.parseStatement(),o=t.current,c=me(t),d=t.expect(E.BLOCK_CLOSE,`Se esperaba un cierre de bloque con Sentencia \`FIN\` en alg\xFAn punto despu\xE9s de Sentencia \`PARA\` en la l\xEDnea **${e.line}**, columnas **${e.start}** a **${e.end}**. Sin embargo, no se encontr\xF3 ninguna`),g=Ae(c,o,d);return{kind:I.FOR,identifier:n,body:g,full:r,init:s,test:a,step:i,...L(e,d)}}function vo(t){let e=t.advance();t.ensureExpression(`Se esperaba una expresi\xF3n a ejecutar inmediatamente despu\xE9s de indicador \`${e.value}\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`);let n=t.parseExpression(x.COMMA);return{kind:I.EXPRESSION,expression:n,...L(e,n)}}function ko(t){let e=t.advance(),n=t.expectAny(E.NUMBER,E.TEXT,E.BOOLEAN,E.LIST,E.EMBED).orFail(`Se esperaba un tipo de Entrada antes de expresi\xF3n receptora en Sentencia \`LEER\`, pero se recibi\xF3: *${t.current.translated}*`),r=!1;t.ensureExpression(`Se esperaba una expresi\xF3n receptora en Sentencia \`LEER\`, pero se recibi\xF3: *${t.current.translated}*`),t.hasTokens&&t.current.is(E.OPTIONAL)&&(r=!0,t.advance(),t.ensureExpression(`Se esperaba una expresi\xF3n receptora en Sentencia \`LEER\`, pero se recibi\xF3: *${t.current.translated}*`));let s=t.parseExpression(x.COMMA),a=null;if(!t.current.is(E.ASSIGNMENT)){let o=Gr(t,n);if(this.hasTokens&&!this.current.isStatement)throw t.TuberParserError(`Se esperaba \`con\` y una expresi\xF3n (o palabra clave \`opcional\`) luego de expresi\xF3n receptora en Sentencia \`LEER\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`);return{kind:I.READ,dataKind:n,receptor:s,fallback:a,optional:r,modifiers:o,...L(e,s)}}t.advance(),t.ensureExpression(`Se esperaba una expresi\xF3n de valor de respaldo luego de \`con\` en Sentencia \`LEER\`, pero la instrucci\xF3n finaliz\xF3 sin m\xE1s con: *${t.current.translated}*`),a=t.parseExpression(x.COMMA);let i=Gr(t,n);return{kind:I.READ,dataKind:n,receptor:s,fallback:a,optional:r,modifiers:i,...L(e,a)}}function Gr(t,e){let n=[];for(;t.hasTokens&&!t.current.isStatement;)n.push(Ro(t,e));return n}function Ro(t,e){if(e.is(E.TEXT)){t.expect(E.IN,`Se esperaba un operador de formato para la definici\xF3n de Entrada de Usuario, pero se recibi\xF3: *${t.current.translated}*`);let s=t.expect(E.IDENTIFIER,"Se esperaba: `mayusculas`, `minusculas` o similares en definici\xF3n de formato de Entrada de Usuario, pero se recibi\xF3 un s\xEDmbolo inv\xE1lido"),a=Vr(s.value),i=["mayus","mayuscula","mayusculas"],o=["minus","minuscula","minusculas"];if(!i.includes(a)&&!o.includes(a))throw t.TuberParserError(`Se esperaba: \`mayusculas\`, \`minusculas\` o similares en definici\xF3n de formato de Entrada de Usuario. Sin embargo, se recibi\xF3: \`${a}\``,s);return i.includes(a)?d=>qr(d.value.toUpperCase()):d=>qr(d.value.toLowerCase())}let n=t.expect(E.IDENTIFIER,`Se esperaba un operador de formato para la definici\xF3n de Entrada de Usuario, pero se recibi\xF3: *${t.current.translated}*`),r=Vr(n.value);if(e.is(E.NUMBER)&&r==="entre"){let s=t.parseExpression(x.LOGICAL_CONJUNCTION);t.expect(E.AND);let a=t.parseExpression(x.LOGICAL_CONJUNCTION);return(i,o,c)=>{o.rememberNode(s);let d=o.evaluateAs(s,c,_r.NUMBER);o.forgetLastNode(),o.rememberNode(a);let g=o.evaluateAs(a,c,_r.NUMBER);return o.forgetLastNode(),i.value<d.value?d:i.value>g.value?g:i}}throw t.TuberParserError(`El operador \`${r}\` no es v\xE1lido para una Entrada de ${e.translated}`,n)}function Lo(t){let e=t.advance(),n=null;t.current.isAny(E.NUMBER,E.TEXT,E.BOOLEAN,E.LIST,E.REGISTRY,E.EMBED)&&(n=t.advance());let r=t.expect(E.IDENTIFIER,`Se esperaba un identificador luego del tipo de dato (o solamente el identificador) en Sentencia \`CREAR\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`),s=[r.value];if(t.current.is(E.COMMA)){for(;t.current.is(E.COMMA)&&(t.advance(),!(!t.hasTokens||t.current.isStatement));)r=t.expect(E.IDENTIFIER,`Se esperaban identificadores separados por \`,\` luego del tipo de dato en Sentencia \`CREAR\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`),s.push(r.value);return{kind:I.DECLARATION,declarations:s,dataKind:n,...L(e,r)}}return{kind:I.DECLARATION,declarations:s,dataKind:n,...L(e,r)}}function Oo(t){let e=t.advance(),n=t.expect(E.IDENTIFIER,`Se esperaba un identificador en Sentencia \`GUARDAR\`, pero se recibi\xF3: *${t.current.value}*`),r;return t.current.is(E.ASSIGNMENT)?(t.advance(),t.ensureExpression(`Se esperaba una expresi\xF3n a guardar luego de \`con\` en Sentencia \`GUARDAR\`, pero se recibi\xF3: *${t.current.value}*`),r=t.parseExpression(x.COMMA)):r={kind:we.IDENTIFIER,name:n.value,...L(n)},{kind:I.SAVE,identifier:n.value,expression:r,...L(e,r)}}function Io(t){let e=t.advance(),n=`\`${`${e.value}`.toUpperCase()}\``;t.ensureExpression(`Se esperaba una expresi\xF3n receptora v\xE1lida luego del indicador ${n}. Sin embargo, se recibi\xF3: *${t.current.translated}*`,t.previous);let r=t.current,s=t.parseExpression(x.COMMA);if(s.kind!==we.IDENTIFIER&&s.kind!==we.ARROW)throw t.TuberParserError(`Se esperaba una expresi\xF3n receptora asignable en Sentencia ${n}. Sin embargo, se recibi\xF3: *${r.translated}*`,r);if(!t.current.is(E.ASSIGNMENT)){if(e.isAny(E.ADD,E.SUBTRACT))return{kind:I.ASSIGNMENT,operator:e,receptor:s,reception:null,...L(e,s)};if(e.is(E.LOAD)&&t.current.isStatement&&s.kind===we.IDENTIFIER)return{kind:I.LOAD,identifier:s.name,...L(e,s)}}t.expect(E.ASSIGNMENT,`Se esperaba "con" y una expresi\xF3n luego de expresi\xF3n receptora en Sentencia ${n}. Sin embargo, se recibi\xF3: ${t.current.translated}`),t.ensureExpression(`Se esperaba una expresi\xF3n de recepci\xF3n v\xE1lida luego del operador \`con\` en Sentencia ${n}. Sin embargo, se recibi\xF3: *${t.current.translated}*`,t.previous);let a=t.parseExpression(x.COMMA);return{kind:I.ASSIGNMENT,operator:e,receptor:s,reception:a,...L(e,s)}}function Mo(t){let e=t.advance(),n=`\`${`${e.value}`.toUpperCase()}\``;t.ensureExpression(`Se esperaba una expresi\xF3n receptora v\xE1lida luego del indicador ${n}. Sin embargo, se recibi\xF3: *${t.current.translated}*`,t.previous);let r=t.current,s=t.parseExpression(x.COMMA);if(s.kind!==we.IDENTIFIER&&s.kind!==we.ARROW)throw t.TuberParserError(`Se esperaba una expresi\xF3n receptora asignable en Sentencia ${n}. Sin embargo, se recibi\xF3: *${r.translated}*`,r);let a=()=>(t.expect(E.ASSIGNMENT,`Se esperaba \`con\` y una expresi\xF3n luego de expresi\xF3n receptora en Sentencia ${n}. Sin embargo, se recibi\xF3: ${t.current.translated}`),t.ensureExpression(`Se esperaba una expresi\xF3n de recepci\xF3n v\xE1lida luego del operador \`con\` en Sentencia ${n}. Sin embargo, se recibi\xF3: *${t.current.translated}*`,t.previous),t.parseExpression(x.COMMA));if(t.current.is(E.IN)){t.advance();let o=I.INSERTION;t.ensureExpression(`Se esperaba una expresi\xF3n de recepci\xF3n v\xE1lida luego del operador \`en\` en Sentencia ${n}. Sin embargo, se recibi\xF3: *${t.current.translated}*`,t.previous);let c=t.parseExpression(x.COMMA),d=a();return{kind:o,receptor:s,reception:d,index:c,...L(e,s)}}let i=a();return{kind:I.ASSIGNMENT,operator:e,receptor:s,reception:i,...L(e,s)}}function xo(t){let e=t.advance(),n=t.expect(E.IDENTIFIER,`Se esperaba un identificador en Sentencia \`BORRAR\`, pero se recibi\xF3: *${t.current.value}*`);return{kind:I.DELETE,identifier:n.value,...L(e,n)}}function yo(t){let e=t.advance();t.ensureExpression(`Se esperaba una expresi\xF3n a devolver inmediatamente despu\xE9s de indicador \`${`${e.value}`.toUpperCase()}\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`);let n=t.parseExpression(x.COMMA);return{kind:I.RETURN,expression:n,...L(e,n)}}function wo(t){let e=t.advance();return{kind:I.END,...L(e)}}function Co(t){let e=t.advance();t.expect(E.ASSIGNMENT,`Se esperaba \`con\` en Sentencia \`PARAR\`, pero se recibi\xF3: *${t.current.translated}*`),t.ensureExpression(`Se esperaba un mensaje de corte luego de \`con\` en Sentencia \`PARAR\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`);let n=t.parseExpression(x.COMMA);if(!t.hasTokens||t.current.isStatement&&!t.current.is(E.IF)){let s=L(e,n);return{kind:I.STOP,stopMessage:n,condition:{kind:we.BOOLEAN_LITERAL,value:!0,...s},...s}}t.expect(E.IF,`Se esperaba \`SI\` y una condici\xF3n luego de mensaje de corte en Sentencia \`PARAR\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`),t.ensureExpression(`Se esperaba una expresi\xF3n l\xF3gica luego de \`SI\` en Sentencia \`PARAR\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`);let r=t.parseExpression(x.COMMA);return{kind:I.STOP,stopMessage:n,condition:r,...L(e,r)}}function Bo(t){let e=t.advance();t.ensureExpression(`Se esperaba una expresi\xF3n a enviar inmediatamente despu\xE9s de indicador \`${`${e.value}`.toUpperCase()}\`. Sin embargo, se recibi\xF3: *${t.current.translated}*`);let n=t.parseExpression(x.COMMA);return{kind:I.SEND,expression:n,...L(e,n)}}Kr.exports={parseBlock:me,parseBlockStatement:go,parseConditionalStatement:Xr,parseWhileLoopStatement:To,parseDoWhileLoopStatement:So,parseRepeatLoopStatement:bo,parseForEachLoopStatement:Ao,parseForLoopStatement:No,parseExpressionStatement:vo,parseReadStatement:ko,parseDeclarationStatement:Lo,parseSaveStatement:Oo,parseAssignmentStatement:Io,parseExtendStatement:Mo,parseDeleteStatement:xo,parseReturnStatement:yo,parseEndStatement:wo,parseStopStatement:Co,parseSendStatement:Bo}});var jr=b((kh,Yr)=>{var{toLowerCaseNormalized:Uo}=he(),{TokenKinds:N}=J(),{BindingPowers:Y}=ot(),{StatementKinds:Do}=ct(),{ExpressionKinds:O}=Lt(),{makeMetadata:Z}=dn(),{parseBlock:Fo}=Ot();function $o(t){let e=t.advance(),n={line:e.line,column:e.column,start:e.start,end:e.end};switch(e.kind){case N.LIT_NUMBER:return{kind:O.NUMBER_LITERAL,value:+e.value,...n};case N.LIT_TEXT:return{kind:O.TEXT_LITERAL,value:e.value,...n};case N.LIT_BOOLEAN:return{kind:O.BOOLEAN_LITERAL,value:Uo(e.value)==="verdadero",...n};case N.IDENTIFIER:return{kind:O.IDENTIFIER,name:e.value,...n};case N.LIST:let r=qo(t),s=r.length?r[r.length-1].end:e.end;return{kind:O.LIST_LITERAL,elements:r,...n,end:s};case N.REGISTRY:let a=_o(t);return{kind:O.REGISTRY_LITERAL,entries:a,...n};case N.NADA:return{kind:O.NADA_LITERAL,value:e.value,...n};default:throw new TypeError(`No se puede crear una expresi\xF3n para: ${e.translated??e.kind}`)}}function Ce(t){return t.hasTokens&&!t.current.isStatement&&!t.current.isAny(N.PAREN_CLOSE,N.OPTIONAL)}function Po(t,e){let n;switch(e.kind){case O.IDENTIFIER:n=e.name;break;case O.NUMBER_LITERAL:case O.TEXT_LITERAL:case O.BOOLEAN_LITERAL:n=`${e.value}`;break;default:throw t.TuberParserError("Se esperaba un identificador, n\xFAmero, texto o l\xF3gico para analizar una clave de miembro de contenedor")}return n}function qo(t){let e=[];for(;t.hasTokens&&t.current.is(N.COMMA);){let n=t.advance();e.push({kind:O.NADA_LITERAL,value:null,...Z(n)})}if(Ce(t))for(e.push(t.parseExpression(Y.ASSIGNMENT));t.hasTokens&&t.current.is(N.COMMA);){let n=t.advance();if(!Ce(t))break;if(t.current.is(N.COMMA)){e.push({kind:O.NADA_LITERAL,value:null,...Z(n)});continue}e.push(t.parseExpression(Y.ASSIGNMENT))}return e}function _o(t){let e=new Map;if(Ce(t)){let{key:n,value:r}=Hr(t);for(e.set(n,r);t.hasTokens&&t.current.is(N.COMMA);)if(t.advance(),Ce(t)){let{key:s,value:a}=Hr(t);e.set(s,a)}}return e}function Hr(t){let e=t.expectAny(N.LIT_NUMBER,N.LIT_TEXT,N.IDENTIFIER).orFail(`Se esperaba un identificador, una cadena o un n\xFAmero en lado izquierdo de expresi\xF3n literal de miembro para expresi\xF3n literal de glosario. Sin embargo, se recibi\xF3: ${t.current.translated}`);t.expect(N.COLON);let n=t.parseExpression(Y.COMMA);return{key:`${e.value}`,value:n}}function Vo(t){let e=t.advance(),n=t.parseExpression(Y.UNARY);return{kind:O.UNARY,operator:e,argument:n,...Z(e,n)}}function Go(t,e,n,r){let s=t.advance(),a=t.parseExpression(n,r);return{kind:O.BINARY,line:s.line,column:s.column,start:e.start,end:a.end,operator:s,left:e,right:a}}function Xo(t){let e=t.advance(),n=t.parseExpression(Y.UNARY);return{kind:O.CAST,argument:n,as:e,...Z(e,n)}}function Ko(t,e,n,r){t.advance();let s=O.ARROW,a=e;if(t.current.is(N.PAREN_OPEN)){let d=zr(t);return{kind:s,holder:a,key:d,computed:!0,...Z(a,d)}}let i=t.parseExpression(Y.PRIMARY),o=Po(t,i);return{kind:s,line:a.line,column:a.column,start:a.start,end:i.end,holder:a,key:o,computed:!1}}function Ho(t,e,n,r){t.advance();let s=[];if(!t.current.is(N.PAREN_CLOSE))for(s.push(t.parseExpression(Y.COMMA));t.hasTokens&&t.current.is(N.COMMA);){if(t.advance(),t.current.is(N.COMMA))throw t.TuberParserError("No se pueden tener argumentos vac\xEDos en una expresi\xF3n de llamado");Ce(t)&&s.push(t.parseExpression(Y.COMMA))}let a=t.expect(N.PAREN_CLOSE);return{kind:O.CALL,fn:e,args:s,...Z(e,a)}}function It(t,e){if(e.kind!==O.IDENTIFIER)throw t.TuberParserError("Se esperaba un identificador como argumento en expresi\xF3n de Funci\xF3n");let n=e.name;if(t.current.is(N.COLON)){t.advance();let r=t.parseExpression(Y.ASSIGNMENT);return{kind:O.ARGUMENT,optional:!0,identifier:n,fallback:r,...Z(e,r)}}return{kind:O.ARGUMENT,optional:!1,identifier:n,...Z(e)}}function zo(t){let e=t.advance();t.expect(N.PAREN_OPEN,`Se esperaba una apertura de par\xE9ntesis inmediatamente luego de indicaci\xF3n de expresi\xF3n de Funci\xF3n, pero se recibi\xF3: ${t.current.translated}`);let n=[];if(!t.current.is(N.PAREN_CLOSE))for(n.push(It(t,t.parseExpression(Y.ASSIGNMENT)));t.hasTokens&&t.current.is(N.COMMA);){if(t.advance(),t.current.is(N.COMMA))throw t.TuberParserError("No se pueden tener argumentos vac\xEDos en una expresi\xF3n de Funci\xF3n");Ce(t)&&n.push(It(t,t.parseExpression(Y.ASSIGNMENT)))}t.expect(N.PAREN_CLOSE,`Se esperaba un cierre de par\xE9ntesis luego de los par\xE1metros de Funci\xF3n para proceder al cuerpo de la Funci\xF3n, pero se recibi\xF3: ${t.current.translated}`);let r=t.current,s=Fo(t),a=t.expect(N.BLOCK_CLOSE,`Se esperaba a que eventualmente se cerrara el bloque de expresi\xF3n de Funci\xF3n en la l\xEDnea: ${e.line}, posici\xF3n: ${e.start}~${e.end}. Sin embargo, eso nunca ocurri\xF3`),i={kind:Do.BLOCK,body:s,...Z(r,a)};return{kind:O.FUNCTION,expression:!1,args:n,body:i,...Z(e,a)}}function Yo(t,e,n,r){let s=[e];do{if(t.advance(),!t.hasTokens||t.current.is(N.COMMA))throw t.TuberParserError("Se esperaba una expresi\xF3n despu\xE9s del operador de coma en expresi\xF3n de secuencia");Ce(t)&&s.push(t.parseExpression(Y.ASSIGNMENT))}while(t.hasTokens&&t.current.is(N.COMMA));return{kind:O.SEQUENCE,expressions:s,...Z(e,s[s.length-1])}}function jo(t,e,n,r){if(t.advance(),e.kind!==O.SEQUENCE&&e.kind!==O.IDENTIFIER)throw t.TuberParserError('Se esperaba una expresi\xF3n de secuencia o un identificador antes del operador "tal que" en expresi\xF3n lambda');let s=e.kind===O.SEQUENCE?e.expressions.map(i=>It(t,i)):[It(t,e)],a=t.parseExpression(Y.DEFAULT);return{kind:O.FUNCTION,expression:!0,args:s,body:a,...Z(e,a)}}function zr(t){let e=t.advance();if(t.current.is(N.PAREN_CLOSE)){let s=t.advance();return{kind:O.SEQUENCE,expressions:[],...Z(e,s)}}let n=t.parseExpression(Y.DEFAULT),r=t.expect(N.PAREN_CLOSE);return n.start=e.start,n.end=r.end,n}Yr.exports={parsePrimaryExpression:$o,parseUnaryExpression:Vo,parseBinaryExpression:Go,parseCastExpression:Xo,parseArrowExpression:Ko,parseCallExpression:Ho,parseFunctionExpression:zo,parseSequenceExpression:Yo,parseLambdaExpression:jo,parseGroupExpression:zr}});var rs=b((Rh,ns)=>{var{TokenKinds:f}=J(),{BindingPowers:y,Associativities:w}=ot(),{parsePrimaryExpression:Be,parseUnaryExpression:hn,parseBinaryExpression:$,parseCastExpression:mn,parseArrowExpression:Qr,parseCallExpression:Qo,parseFunctionExpression:Wo,parseSequenceExpression:Jo,parseLambdaExpression:Zo,parseGroupExpression:ec}=jr(),{parseBlockStatement:tc,parseConditionalStatement:nc,parseWhileLoopStatement:rc,parseDoWhileLoopStatement:sc,parseRepeatLoopStatement:ac,parseForEachLoopStatement:ic,parseForLoopStatement:oc,parseExpressionStatement:cc,parseReadStatement:lc,parseDeclarationStatement:uc,parseSaveStatement:dc,parseAssignmentStatement:lt,parseExtendStatement:hc,parseDeleteStatement:mc,parseReturnStatement:Ec,parseEndStatement:pc,parseStopStatement:fc,parseSendStatement:gc}=Ot(),Wr=new Map,Jr=new Map,Zr=new Map,es=new Map,ts=new Map;function C(t,e){Wr.set(t,e)}function G(t,e){Jr.set(t,e)}function B(t,e,n,r){es.set(t,e),ts.set(t,n),Zr.set(t,r)}function Tc(){C(f.BLOCK_OPEN,tc),C(f.IF,nc),C(f.WHILE,rc),C(f.DO,sc),C(f.REPEAT,ac),C(f.FOR_EACH,ic),C(f.FOR,oc),C(f.EXECUTE,cc),C(f.READ,lc),C(f.CREATE,uc),C(f.SAVE,dc),C(f.LOAD,lt),C(f.ADD,lt),C(f.SUBTRACT,lt),C(f.MULTIPLY,lt),C(f.DIVIDE,lt),C(f.DELETE,mc),C(f.EXTEND,hc),C(f.RETURN,Ec),C(f.END,pc),C(f.STOP,fc),C(f.SEND,gc),B(f.COMMA,y.COMMA,w.LEFT,Jo),B(f.LAMBDA,y.ASSIGNMENT,w.RIGHT,Zo),B(f.OR,y.LOGICAL_DISJUNCTION,w.LEFT,$),B(f.AND,y.LOGICAL_CONJUNCTION,w.LEFT,$),B(f.EQUALS,y.EQUALITY,w.LEFT,$),B(f.NOT_EQUALS,y.EQUALITY,w.LEFT,$),B(f.SEEMS,y.EQUALITY,w.LEFT,$),B(f.NOT_SEEMS,y.EQUALITY,w.LEFT,$),B(f.LESS,y.RELATIONAL,w.LEFT,$),B(f.LESS_EQUALS,y.RELATIONAL,w.LEFT,$),B(f.GREATER,y.RELATIONAL,w.LEFT,$),B(f.GREATER_EQUALS,y.RELATIONAL,w.LEFT,$),B(f.PLUS,y.ADDITIVE,w.LEFT,$),B(f.DASH,y.ADDITIVE,w.LEFT,$),B(f.STAR,y.MULTIPLICATIVE,w.LEFT,$),B(f.SLASH,y.MULTIPLICATIVE,w.LEFT,$),B(f.PERCENT,y.MULTIPLICATIVE,w.LEFT,$),B(f.CARET,y.EXPONENTIAL,w.RIGHT,$),B(f.DOUBLE_STAR,y.EXPONENTIAL,w.RIGHT,$),G(f.NOT,hn),G(f.PLUS,hn),G(f.DASH,hn),G(f.NUMBER,mn),G(f.TEXT,mn),G(f.BOOLEAN,mn),B(f.PAREN_OPEN,y.CALL,w.LEFT,Qo),B(f.ARROW,y.MEMBER,w.LEFT,Qr),B(f.DOT,y.MEMBER,w.LEFT,Qr),G(f.LIT_NUMBER,Be),G(f.LIT_TEXT,Be),G(f.LIT_BOOLEAN,Be),G(f.LIST,Be),G(f.REGISTRY,Be),G(f.IDENTIFIER,Be),G(f.NADA,Be),G(f.FUNCTION,Wo),G(f.PAREN_OPEN,ec)}ns.exports={stmtLookup:Wr,nudLookup:Jr,ledLookup:Zr,bpLookup:es,assLookup:ts,createLookups:Tc}});var ds=b((Ih,us)=>{var{Lexer:Lh}=ln(),{Token:Oh,TokenKinds:Sc,translateTokenKind:ut,translateTokenKinds:ss}=J(),{Associativities:bc}=ot(),{StatementKinds:Ac}=ct(),{parseBlock:Nc}=Ot(),{stmtLookup:as,nudLookup:is,ledLookup:os,bpLookup:cs,createLookups:vc,assLookup:ls}=rs(),En=class{errorStack;tokens;#e;constructor(){this.errorStack=[],this.tokens=[],this.#e=0,vc()}TuberParserError(e,n=null){n??=this.current;let{lineString:r,offset:s}=this.#t(n),a=Math.max(0,Math.min(n.column-s-1,r.length)),i=Math.max(1,Math.min(a+n.length,r.length)-a),o=["```arm",r||"//No hay informaci\xF3n adicional para mostrar...",r?`${" ".repeat(a)}${"\u2191".repeat(i)}`:"","```",`**Valor**: \`${n.value}\``,`En l\xEDnea **${n.line}**, columnas **${n.column}** a **${n.column+n.length}** - `].join(`
`),c=new Error(o+e);return c.name="TuberParserError",c}#t(e){let n="(...)",s=e.column+e.length,a=Math.max(0,e.lineString.length-55),i=e.lineString||"//No hay informaci\xF3n adicional para mostrar...";if(i.length<55)return{lineString:i,offset:a};let o=n.length+1;if(s<55)i=i.slice(0,55-o)+" "+n;else if(e.column>=i.length)i=n+" "+i.slice(i.length-55-1+o);else{let c=(e.column+s)*.5,d=Math.floor(55*.5),g=55-d;e.column<c-d&&(c=e.column+d),i=n+" "+i.slice(c-d+o,c+g-o)+" "+n}return{lineString:i,offset:a}}get previous(){return this.tokens[Math.max(0,this.#e-1)]}get current(){return this.tokens[this.#e]}get hasTokens(){return this.#e<this.tokens.length&&!this.current.is(Sc.EOF)}advance(){return this.tokens[this.#e++]}expect(e,n=null){let r=this.advance();if(r.kind!==e)throw this.#e--,n??=`Se esperaba un token de tipo: *${ut(e)}*, pero se recibi\xF3: *${r.translated}*`,this.TuberParserError(n,r);return r}expectAny(...e){let n=this.advance();if(!n.isAny(...e)){this.#e--;let r=this;return{orFail:function(s=`Se esperaba un token de tipo: ${ss(...e).join("/")}, pero se recibi\xF3: ${n.translated}`,a=null){throw a??=n,r.TuberParserError(s,a)}}}return{orFail:function(r=null,s=null){return n}}}ensure(e,n=null){let r=this.current;if(!r.is(e))throw n??=`Se esperaba un token de tipo ${ut(e)}, pero se recibi\xF3: ${r.value}`,this.TuberParserError(n);return r}ensureAny(...e){let n=this.current;if(!n.isAny(...e)){let r=this;return{orFail:function(s=`Se esperaba un token de tipo: ${ss(...e).join("/")}, pero se recibi\xF3: ${n.value}`){throw r.TuberParserError(s)}}}return{orFail:function(r=null){return n}}}ensureExpression(e,n=null){if(!this.hasTokens||this.current.isStatement)throw this.TuberParserError(e,n)}ensureStatement(e,n=null){if(!this.hasTokens||!this.current.isStatement)throw this.TuberParserError(e,n)}parse(e){if(!Array.isArray(e))throw"Se esperaba una Array al analizar tokens de Pur\xE9Script";this.errorStack=[],this.tokens=e,this.#e=0;let n=Nc(this);return{kind:Ac.PROGRAM,line:1,column:1,start:0,end:n.length?n[n.length-1].end:1,body:n}}parseExpression(e,n=null){let r=this.current.kind;if(!is.has(r))throw this.TuberParserError(`Se esperaba un Token prefijo o primario v\xE1lido, pero se recibi\xF3: *${ut(r)}*`);n??=ls.get(r)??bc.LEFT;let a=is.get(r)(this),i=e+n;for(;cs.get(this.current.kind)>i;){let o=this.current.kind;if(!os.has(o))throw this.TuberParserError(`Se esperaba un Token infijo u sufijo v\xE1lido, pero se recibi\xF3: *${ut(o)}*`);a=os.get(o)(this,a,cs.get(this.current.kind),ls.get(this.current.kind))}return a}parseStatement(){let e=this.current.kind;if(as.has(e))return as.get(e)(this);throw this.TuberParserError(`Se esperaba un indicador de sentencia v\xE1lido, pero se recibi\xF3: ${ut(this.current.kind)}`)}};us.exports={Parser:En}});var Ie=b((Mh,ms)=>{var{makeNada:hs,defaultValueOf:kc}=D(),pn=class{#e;#t;#r;variables;global;constructor(e,n=null){this.#e=e,this.#t=n,this.variables=new Map,this.global=!1,this.#r=this.resolveClosestGlobalMirror()}get interpreter(){return this.#e}get parent(){return this.#t}hasParent(){return this.#t!=null}declareVariable(e,n){if(this.variables.has(e))throw this.#e.TuberInterpreterError(`El identificador \`${e}\` ya estaba declarado`);let r=kc(n);return this.variables.set(e,r),r}assignVariable(e,n){let r=this.resolve(e,!1);if(n==null)throw this.#e.TuberInterpreterError("Se esperaba una asignaci\xF3n");return r??=this,r.variables.set(e,n),n}lookup(e,n=!0){let r=this.resolve(e,n);if(r==null)return hs();let s=r.variables.get(e);return s??hs()}resolve(e,n=!0){if(this.variables.get(e)!=null)return this;if(!this.hasParent()){if(this.#r)return this.#r.resolve(e,n);if(n)throw this.#e.TuberInterpreterError(`El identificador \`${e}\` no representa ninguna variable ni funci\xF3n`);return null}return this.#t.resolve(e,n)}include(e){return e.hasParent()&&e.parent!==this&&!e.parent.global&&this.include(e.parent),e.variables.forEach((n,r)=>{this.variables.has(r)||this.variables.set(r,n)}),this.#r=e.resolveClosestGlobalMirror(),this}resolveClosestGlobalMirror(){return this.#r!=null?this.#r:this.hasParent()?this.#t.global?this.#t:this.#t.resolveClosestGlobalMirror():null}};ms.exports={Scope:pn}});var Tn=b((xh,bs)=>{var{TokenKinds:m}=J(),{ValueKinds:A,coerceValue:P,makeNumber:pe,makeText:Rc,makeBoolean:He,toggleBoolean:gn}=D();function fn(t){let e;switch(t){case m.PLUS:e=(n,r,s)=>{n.rememberNode(s);let a=P(n,r,A.NUMBER);return n.forgetLastNode(),a};break;case m.DASH:e=(n,r,s)=>{n.rememberNode(s);let a=P(n,r,A.NUMBER);return n.forgetLastNode(),a.value*=-1,a};break;case m.NOT:e=(n,r,s)=>{n.rememberNode(s);let a=P(n,r,A.BOOLEAN);return n.forgetLastNode(),gn(a)};break;default:throw`Operaci\xF3n inv\xE1lida: ${t}`}return e}var gs=new Map;gs.set(m.PLUS,fn(m.PLUS)).set(m.DASH,fn(m.DASH)).set(m.NOT,fn(m.NOT));function Es(t,e,n,r,s){if(e.kind===A.TEXT||n.kind===A.TEXT){t.rememberNode(r);let o=P(t,e,A.TEXT).value;t.forgetLastNode(),t.rememberNode(s);let c=P(t,n,A.TEXT).value;return t.forgetLastNode(),Rc(o+c)}t.rememberNode(r);let a=P(t,e,A.NUMBER).value;t.forgetLastNode(),t.rememberNode(s);let i=P(t,n,A.NUMBER).value;return t.forgetLastNode(),pe(a+i)}function Ne(t){let e;switch(t){case m.PLUS:e=(n,r)=>pe(n+r);break;case m.DASH:e=(n,r)=>pe(n-r);break;case m.STAR:e=(n,r)=>pe(n*r);break;case m.SLASH:e=(n,r)=>pe(n/r);break;case m.PERCENT:e=(n,r)=>pe(n%r);break;case m.CARET:e=(n,r)=>pe(n**r);break;case m.DOUBLE_STAR:e=(n,r)=>pe(n**r);break;default:throw`Operaci\xF3n inv\xE1lida: ${t}`}return function(n,r,s,a,i){n.rememberNode(a);let o=P(n,r,A.NUMBER).value;n.forgetLastNode(),n.rememberNode(i);let c=P(n,s,A.NUMBER).value;if(n.forgetLastNode(),(t===m.SLASH||t===m.PERCENT)&&c===0)throw n.TuberInterpreterError("Divisi\xF3n por cero");return e(o,c)}}var ps=[A.EMBED,A.FUNCTION,A.NATIVE_FN];function fs(t,e,n){if(e.kind===n.kind)return e.equals(n);if(t.isAnyOf(e,...ps)||t.isAnyOf(n,...ps))return He(!1);if(e.kind===A.NADA||n.kind===A.NADA)return e.kind===A.NUMBER?pe(0).equals(e):n.kind===A.NUMBER?pe(0).equals(n):t.isAnyOf(e,A.TEXT,A.BOOLEAN)?P(t,n,e.kind).equals(e):t.isAnyOf(n,A.TEXT,A.BOOLEAN)?P(t,e,n.kind).equals(n):He(!1);let r,s;return t.isAnyOf(e,A.TEXT,A.LIST,A.REGISTRY)||t.isAnyOf(n,A.TEXT,A.LIST,A.REGISTRY)?(r=P(t,e,A.TEXT),s=P(t,n,A.TEXT)):(r=P(t,e,A.NUMBER),s=P(t,n,A.NUMBER)),r.equals(s)}function Ee(t){let e;switch(t){case m.OR:e=(n,r,s)=>P(n,r,A.BOOLEAN).value?r:s;break;case m.AND:e=(n,r,s)=>P(n,r,A.BOOLEAN).value?s:r;break;case m.EQUALS:e=(n,r,s)=>r.equals(s);break;case m.NOT_EQUALS:e=(n,r,s)=>gn(r.equals(s));break;case m.SEEMS:e=(n,r,s)=>fs(n,r,s);break;case m.NOT_SEEMS:e=(n,r,s)=>gn(fs(n,r,s));break;case m.LESS:e=(n,r,s)=>He(r.compareTo(s).value<0);break;case m.LESS_EQUALS:e=(n,r,s)=>He(r.compareTo(s).value<=0);break;case m.GREATER:e=(n,r,s)=>He(r.compareTo(s).value>0);break;case m.GREATER_EQUALS:e=(n,r,s)=>He(r.compareTo(s).value>=0);break;default:throw`Operaci\xF3n inv\xE1lida: ${t}`}return e}var Ts=new Map;Ts.set(m.ADD,Es).set(m.SUBTRACT,Ne(m.DASH)).set(m.MULTIPLY,Ne(m.STAR)).set(m.DIVIDE,Ne(m.SLASH)).set(m.PLUS,Es).set(m.DASH,Ne(m.DASH)).set(m.STAR,Ne(m.STAR)).set(m.SLASH,Ne(m.SLASH)).set(m.PERCENT,Ne(m.PERCENT)).set(m.CARET,Ne(m.CARET)).set(m.DOUBLE_STAR,Ne(m.DOUBLE_STAR)).set(m.OR,Ee(m.OR)).set(m.AND,Ee(m.AND)).set(m.EQUALS,Ee(m.EQUALS)).set(m.NOT_EQUALS,Ee(m.NOT_EQUALS)).set(m.SEEMS,Ee(m.SEEMS)).set(m.NOT_SEEMS,Ee(m.NOT_SEEMS)).set(m.LESS,Ee(m.LESS)).set(m.LESS_EQUALS,Ee(m.LESS_EQUALS)).set(m.GREATER,Ee(m.GREATER)).set(m.GREATER_EQUALS,Ee(m.GREATER_EQUALS));var Ss=new Map;Ss.set(m.NUMBER,A.NUMBER).set(m.TEXT,A.TEXT).set(m.BOOLEAN,A.BOOLEAN).set(m.LIST,A.LIST).set(m.REGISTRY,A.REGISTRY).set(m.EMBED,A.EMBED).set(m.FUNCTION,A.FUNCTION).set(m.NADA,A.NADA);bs.exports={UnaryOperationLookups:gs,BinaryOperationLookups:Ts,ValueKindLookups:Ss}});var vn=b((wh,Rs)=>{var{TokenKinds:Sn}=J(),{Scope:yh}=Ie(),{makeText:Lc,makeNada:Oc,coerceValue:Ic,defaultValueOf:vs,ValueKinds:bn,ValueKindTranslationLookups:Mc,makeNumber:xc,makeBoolean:As}=D(),{ValueKindLookups:ks}=Tn(),Ns={TRUE:["verdadero","encendido","prendido","si","verdad","activado","activo","true","yes","on","enabled","1","o"],FALSE:["falso","apagado","no","desactivado","inactivo","false","off","disabled","0","x"]},ht=class t{#e;#t;#r;#s;#i;constructor(e,n,r){this.#e=e,this.#t=n,this.#r=r,this.#s=!1,this.#i=null}get name(){return this.#e}get kind(){return this.#t}get optional(){return this.#r}get spread(){return this.#s}get desc(){return this.#i}get json(){return{name:this.#e,kind:this.#t,optional:this.#r,spread:this.#s,desc:this.#i}}setSpread(e){return this.#s=e,this}setDesc(e){return this.#i=e,this}equals(e){return this.name===e.name&&this.kind===e.kind&&this.optional===e.optional}toString(){let e=Mc.get(this.#t)??"Nada",n=this.#e??"<desconocido>",r=this.#i??"Sin descripci\xF3n",s=this.#s?"...":"",a=this.#r?"_(opcional)_":"";return`**(${e})** \`${n}${s}\` ${a}: ${r}`}static from(e){return new t(e.name,e.kind,e.optional).setSpread(e.spread??!1).setDesc(e.desc??null)}},mt=class{interpreter;#e;#t;#r;#s;constructor(e,n){this.interpreter=e,this.#e=[],this.#t=[],this.#r=new Map,this.#s=null;let r,s;for(let a=0;a<n.length;a++){if(r=n[a],r.startsWith('"')&&(s='"')||r.startsWith("'")&&(s="'")){for(;!r.endsWith(s)&&++a<n.length;)r+=" "+n[a];r=r.slice(1,-1)}this.#e.push(r)}}get hasArgs(){return this.#e.length>0}get inputStack(){return this.#t.slice()}get hasSpreadInput(){return this.#s!=null}get spreadInputName(){return this.#s?.name}readInput(e,n){return Oc()}queueArg(e){this.#e.push(e)}dequeueArg(){return this.#e.shift()}hasInput(e){return this.#r.has(e)}ensureValidInputKind(e,n){if(!n.isAny(Sn.NUMBER,Sn.TEXT,Sn.BOOLEAN))throw this.interpreter.TuberInterpreterError(`El tipo de dato de la Entrada \`${e}\` es inv\xE1lido. Se recibi\xF3: ${n.translated}`,n)}addInput(e){if(this.hasSpreadInput)throw this.interpreter.TuberInterpreterError(["Solo puede haber una \xFAnica Entrada extensiva por Tub\xE9rculo, y debe ser la \xFAltima Entrada del mismo.",`La Entrada anterior, \`${this.spreadInputName}\`, se detect\xF3 como extensiva. Sin embargo, luego se ley\xF3 una Entrada con otro nombre: \`${e.name}\`.`,"Acomoda tu c\xF3digo de forma tal que la Entrada extensiva sea la \xFAltima en ser le\xEDda"].join(`
`));if(this.#r.has(e.name))throw"Entrada duplicada";this.#t.push(e),this.#r.set(e.name,e)}setInputAsSpread(e){if(this.#s!=null){if(this.#s.name!=e)throw"Entrada duplicada";return}let n=this.#r.get(e);if(!n)throw"Entrada inexistente";this.#s=n.setSpread(!0)}},An=class extends mt{constructor(e,n){super(e,n??[])}readInput(e,n){let{receptor:r,dataKind:s,optional:a,fallback:i}=e,o=this.interpreter.astString(r),c=ks.get(s.kind),d=i!=null?this.interpreter.evaluate(i,n):vs(c);this.ensureValidInputKind(o,s),this.hasInput(o)?this.setInputAsSpread(o):this.addInput(new ht(o,c,a));try{return Ic(this.interpreter,d,c)}catch{let g=this.interpreter.astString(i);throw this.interpreter.TuberInterpreterError(`Se recibi\xF3 una Entrada con formato inv\xE1lido. Se esperaba un valor convertible a ${s.translated}, pero \`${g}\` no lo era`,i??s)}}},Nn=class extends mt{constructor(e,n){super(e,n??[])}readInput(e,n){let{receptor:r,dataKind:s,optional:a,fallback:i,modifiers:o}=e,c=this.interpreter.astString(r),d=ks.get(s.kind),g=this.dequeueArg();this.ensureValidInputKind(c,s),this.hasInput(c)?this.setInputAsSpread(c):this.addInput(new ht(c,d,a));let T;if(g!=null)T=this.#e(c,g,d);else if(a)try{T=i!=null?this.interpreter.evaluateAs(i,n,d):vs(d)}catch{throw dt(`Se recibi\xF3 una Entrada con formato inv\xE1lido. Se esperaba un valor conversible a ${s.translated}, pero se recibi\xF3: \`${g}\``)}else throw dt(`No se recibi\xF3 un valor para la Entrada obligatoria \`${c}\` de ${s.translated}`);return o.reduce((V,R)=>R(V,this.interpreter,n),T)}#e(e,n,r){switch(r){case bn.NUMBER:{let s=+n;if(isNaN(s))throw dt(`Se esperaba un N\xFAmero para la entrada \`${e}\``);return xc(s)}case bn.TEXT:return Lc(n);case bn.BOOLEAN:{let s=n.toLowerCase();if(Ns.TRUE.includes(s))return As(!0);if(Ns.FALSE.includes(s))return As(!1);throw dt(`Se esperaba un valor L\xF3gico ("verdadero" o "falso", "si" o "no", etc...) para la entrada \`${e}\`. Sin embargo, se recibi\xF3: \`${n}\``)}default:throw"Tipo de Entrada inv\xE1lido detectado en lugar inesperado"}}};function dt(t){let e=new Error(t);return e.name="TuberInputError",e}Rs.exports={Input:ht,InputReader:mt,TestDriveInputReader:An,ProductionInputReader:Nn,TuberInputError:dt}});var Is=b((Ch,Os)=>{var Ls=new Map;Ls.set("colorAnaranjado",15105570).set("colorAnaranjadoOscuro",11027200).set("colorAmarillo",16705372).set("colorAqua",1752220).set("colorAquaOscuro",1146986).set("colorAzul",3447003).set("colorAzulOscuro",2123412).set("colorBlanco",16777215).set("colorCasiNegro",2895667).set("colorCeleste",1752220).set("colorCelesteOscuro",1146986).set("colorDiscord",5793266).set("colorDorado",15844367).set("colorDoradoOscuro",12745742).set("colorFucsia",15418782).set("colorGris",9807270).set("colorGrisClaro",12370112).set("colorGrisNegro",8359053).set("colorGrisOscuro",9936031).set("colorGrispura",10070709).set("colorGr\xEDspura",10070709).set("colorMarino",3426654).set("colorMarinoOscuro",2899536).set("colorMarr\xF3n",11027200).set("colorMorado",10181046).set("colorMoradoOscuro",7419530).set("colorNaranja",15105570).set("colorNaranjaOscuro",11027200).set("colorNegro",2303786).set("colorOro",15844367).set("colorOroOscuro",12745742).set("colorPurpura",10181046).set("colorP\xFArpura",10181046).set("colorPurpuraOscuro",7419530).set("colorP\xFArpuraOscuro",7419530).set("colorRojo",15548997).set("colorRojoOscuro",10038562).set("colorRosaClaro",15277667).set("colorRosaOscuro",11342935).set("colorVerde",5763719).set("colorVerdeOscuro",2067276).set("colorVioleta",10181046).set("colorVioletaOscuro",7419530);Os.exports={NativeColorsLookup:Ls}});var fe=b((Uh,ys)=>{var{Scope:Bh}=Ie(),{ValueKinds:X,coerceValue:kn,isOperable:yc,makeNada:Ms,makeNativeFunction:wc,makeFunction:Cc,makeEmbed:Bc,makeRegistry:Uc,makeList:Dc,makeNumber:Fc,makeText:$c,makeBoolean:Pc,isValidText:qc,ValueKindTranslationLookups:_c}=D(),Vc=/(http:\/\/|https:\/\/)(www\.)?(([a-zA-Z0-9-]){1,}\.){1,4}([a-zA-Z]){2,6}\/[a-zA-Z-_\/\.0-9#:?=&;,]*\.(txt|png|jpg|jpeg|webp|gif|webm|mp4|mp3|wav|flac|ogg)[a-zA-Z-_\.0-9#:?=&;,]*/i,Gc=/(http:\/\/|https:\/\/)(www\.)?(([a-zA-Z0-9-]){1,}\.){1,4}([a-zA-Z]){2,6}\/[a-zA-Z-_\/\.0-9#:?=&;,]*\.(png|jpg|jpeg|webp)[a-zA-Z-_\.0-9#:?=&;,]*/i,Xc=/(http:\/\/|https:\/\/)(www\.)?(([a-zA-Z0-9-]){1,}\.){1,4}([a-zA-Z]){2,6}(\/[a-zA-Z-_\/\.0-9#:?=&;,]*)?/i;function xs(t,...e){switch(t){case X.NUMBER:return Fc(e[0]);case X.TEXT:return $c(e[0]);case X.BOOLEAN:return Pc(e[0]);case X.LIST:return Dc(Array.isArray(e[0])?e[0]:e);case X.REGISTRY:return Uc(e[0]);case X.NATIVE_FN:return wc(null,e[0]);case X.FUNCTION:return Cc(e[0],e[1],e[2]);case X.EMBED:return Bc();case X.NADA:return Ms();default:throw"Tipo de dato inv\xE1lido al intentar crear un RuntimeValue desde tipo de dato y valor primitivo"}}function Rn(t,e,n,r){if(n===X.NUMBER&&!yc(e))throw r.interpreter.TuberInterpreterError(`Se recibi\xF3 un valor inv\xE1lido para par\xE1metro de tipo **N\xFAmero**: \`${t}\``);if(n===X.TEXT&&!qc(e))throw r.interpreter.TuberInterpreterError(`Se recibi\xF3 un valor inv\xE1lido para par\xE1metro de tipo **Texto**: \`${t}\``)}function Kc(t,e,n,r){if(e==null)throw r.interpreter.TuberInterpreterError(`Se esperaba un valor para el par\xE1metro requerido \`${t}\` en Funci\xF3n nativa`);if(e.kind===X.NADA)throw r.interpreter.TuberInterpreterError(`Se esperaba un **${_c.get(n)}** para el par\xE1metro requerido \`${t}\` en Funci\xF3n nativa, pero se recibi\xF3 **Nada**`);let s=kn(r.interpreter,e,n);return Rn(t,s,n,r),s}function Hc(t,e,n,r,...s){if(e==null||e.kind===X.NADA)return xs(n,...s);let a=kn(r.interpreter,e,n);return Rn(t,a,n,r),a}function zc(t,e,n,r){if(e==null)return[!1,Ms()];let s=kn(r.interpreter,e,n);return Rn(t,s,n,r),[!0,s]}function Yc(t,e){return t=Math.floor(t),t<0&&(t=e+t),t}function jc(t,e,n){let r=n.interpreter;if(e==null)throw r.TuberInterpreterError(`Se esperaba un valor para el par\xE1metro requerido \`${t}\` en Funci\xF3n nativa`);if(!r.isAnyOf(e,X.FUNCTION,X.NATIVE_FN))throw r.TuberInterpreterError(`Se esperaba una Funci\xF3n para el par\xE1metro requerido \`${t}\` en Funci\xF3n nativa`);return(...s)=>r.callFunction(e,s,n)}ys.exports={expectParam:Kc,getParamOrDefault:Hc,getParamOrNada:zc,calculatePositionOffset:Yc,makeKindFromValue:xs,makePredicateFn:jc,fileRegex:Vc,imageRegex:Gc,linkRegex:Xc}});var Us=b((Dh,Bs)=>{function ws(t,e,n){let r=e*Math.min(n,1-n),s=(a,i=(a+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[s(0),s(8),s(4)]}function Cs(t,e,n){let r=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function Qc(t,e,n){let r=ws(t,e,n).map(s=>s*255);return Ln(r[0],r[1],r[2])}function Wc(t,e,n){let r=Cs(t,e,n).map(s=>s*255);return Ln(r[0],r[1],r[2])}function Ln(t,e,n){let r=s=>Math.round(s).toString(16).padStart(2,"0");return`#${r(t)}${r(e)}${r(n)}`}Bs.exports={hsl2rgb:ws,hsv2rgb:Cs,rgb2hex:Ln,hsl2hex:Qc,hsv2hex:Wc}});var _s=b((Ph,qs)=>{var{ValueKinds:F,makeNumber:ee,makeText:yt,makeBoolean:Jc,makeNada:Zc}=D(),{getParamOrNada:Mt,expectParam:K}=fe(),{Scope:Fh}=Ie(),{rand:xt,randRange:Ps,clamp:$h}=he(),{rgb2hex:el,hsl2hex:tl,hsv2hex:nl}=Us();function rl(t,[e,n],r){let[s,a]=Mt("n",e,F.NUMBER,r);if(!s)return ee(Math.random());let[i,o]=Mt("m",n,F.NUMBER,r);return ee(i?Ps(a.value,o.value,!1):xt(a.value,!1))}function sl(t,[],e){let r="#"+((Math.random()*16777214<<0)+1).toString(16).padStart(6,"0");return yt(r)}function al(t,[e,n,r],s){let a=K("rojo",e,F.NUMBER,s).value,i=K("verde",n,F.NUMBER,s).value,o=K("azul",r,F.NUMBER,s).value;if(a<0||a>255)throw s.interpreter.TuberInterpreterError("El canal rojo del color debe ser un valor entre 0 y 255 inclusive");if(i<0||i>255)throw s.interpreter.TuberInterpreterError("El canal verde del color debe ser un valor entre 0 y 255 inclusive");if(o<0||o>255)throw s.interpreter.TuberInterpreterError("El canal azul del color debe ser un valor entre 0 y 255 inclusive");let c=el(a,i,o);return yt(c)}function il(t,[e,n,r],s){let a=K("matiz",e,F.NUMBER,s).value,i=K("saturaci\xF3n",n,F.NUMBER,s).value,o=K("luminidad",r,F.NUMBER,s).value;if(a<0||a>=360)throw s.interpreter.TuberInterpreterError("La matiz del color debe ser un valor entre 0 (inclusive) y 360 (exclusive)");if(i<0||i>1)throw s.interpreter.TuberInterpreterError("La saturaci\xF3n del color debe ser un valor entre 0 y 1 inclusive");if(o<0||o>1)throw s.interpreter.TuberInterpreterError("La luminidad del color debe ser un valor entre 0 y 1 inclusive");let c=tl(a,i,o);return yt(c)}function Ds(t,[e,n,r],s){let a=K("matiz",e,F.NUMBER,s).value,i=K("saturaci\xF3n",n,F.NUMBER,s).value,o=K("brillo",r,F.NUMBER,s).value;if(a<0||a>=360)throw s.interpreter.TuberInterpreterError("La matiz del color debe ser un valor entre 0 (inclusive) y 360 (exclusive)");if(i<0||i>1)throw s.interpreter.TuberInterpreterError("La saturaci\xF3n del color debe ser un valor entre 0 y 1 inclusive");if(o<0||o>1)throw s.interpreter.TuberInterpreterError("El brillo del color debe ser un valor entre 0 y 1 inclusive");let c=nl(a,i,o);return yt(c)}function ol(t,[e],n){let r=K("valor",e,F.NUMBER,n).value,s=Math.cos(r);return ee(s)}function cl(t,[e,n],r){let[s,a]=Mt("n",e,F.NUMBER,r);if(!s)return ee(xt(6,!0)+1);let[i,o]=Mt("m",n,F.NUMBER,r);return ee(i?Ps(a.value,o.value,!0):xt(a.value,!0))}function ll(t,e,n){if(e.length===0)throw n.interpreter.TuberInterpreterError("Se esperaba un valor para el par\xE1metro requerido `x1` para elegir aleatoriamente");if(e.length===1)return e[0];let r=xt(e.length,!0);return e[r]}function ul(t,e,n){if(e.length===0)throw n.interpreter.TuberInterpreterError("Se esperaba un valor para el par\xE1metro requerido `x1` para obtener un m\xE1ximo");if(e.length===1)return e[0];let r=Math.max(...e.map(s=>s.value));return ee(r)}function dl(t,e,n){if(e.length===0)throw n.interpreter.TuberInterpreterError("Se esperaba un valor para el par\xE1metro requerido `x1` para obtener un m\xEDnimo");if(e.length===1)return e[0];let r=Math.min(...e.map(s=>s.value));return ee(r)}function Fs(t,[],e){let n=e.interpreter.hasArgs;return Jc(n)}function hl(t,[e],n){let s=K("grados",e,F.NUMBER,n).value*Math.PI/180;return ee(s)}function $s(t,[e,n],r){let s=K("radicando",e,F.NUMBER,r),a=K("grado",n,F.NUMBER,r),i=s.value**(1/a.value);return isNaN(i)?Zc():ee(i)}function ml(t,[e],n){let r=K("valor",e,F.NUMBER,n).value,s=Math.sin(r);return ee(s)}function El(t,[e],n){let r=K("valor",e,F.NUMBER,n).value,s=Math.tan(r);return ee(s)}var pl=[{id:"aleatorio",fn:rl},{id:"colorAleatorio",fn:sl},{id:"cos",fn:ol},{id:"dado",fn:cl},{id:"elegir",fn:ll},{id:"hayEntradas",fn:Fs},{id:"hsl",fn:il},{id:"hsb",fn:Ds},{id:"hsv",fn:Ds},{id:"maximizar",fn:ul},{id:"minimizar",fn:dl},{id:"quedanEntradas",fn:Fs},{id:"radianes",fn:hl},{id:"raiz",fn:$s},{id:"ra\xEDz",fn:$s},{id:"rgb",fn:al},{id:"sen",fn:ml},{id:"tan",fn:El}];qs.exports={utilFunctions:pl}});var Xs=b((_h,Gs)=>{var{ValueKinds:On,makeBoolean:ge,isOperable:fl,isValidText:gl,isBoolean:Tl,isList:Sl,isRegistry:bl,isEmbed:Al,isNada:Nl}=D(),{expectParam:In,fileRegex:vl,linkRegex:kl,imageRegex:Rl}=fe(),{Scope:qh}=Ie();function Vs(t,[e],n){let r=fl(e);return ge(r)}function Ll(t,[e],n){let r=gl(e);return ge(r)}function Ol(t,[e],n){let r=Tl(e);return ge(r)}function Il(t,[e],n){let r=Sl(e);return ge(r)}function Ml(t,[e],n){let r=bl(e);return ge(r)}function xl(t,[e],n){let r=Al(e);return ge(r)}function yl(t,[e],n){let r=Nl(e);return ge(r)}function wl(t,[e],n){let r=In("x",e,On.TEXT,n),s=!kl.test(r.value);return ge(s)}function Cl(t,[e],n){let r=In("x",e,On.TEXT,n),s=!vl.test(r.value);return ge(s)}function Bl(t,[e],n){let r=In("x",e,On.TEXT,n),s=!Rl.test(r.value);return ge(s)}var Ul=[{id:"esNumero",fn:Vs},{id:"esN\xFAmero",fn:Vs},{id:"esTexto",fn:Ll},{id:"esLogico",fn:Ol},{id:"esLista",fn:Il},{id:"esRegistro",fn:Ml},{id:"esMarco",fn:xl},{id:"esNada",fn:yl},{id:"esEnlace",fn:wl},{id:"esArchivo",fn:Cl},{id:"esImagen",fn:Bl}];Gs.exports={kindFunctions:Ul}});var Hs=b((Vh,Ks)=>{var{ValueKinds:Mn,makeNada:xn}=D(),{expectParam:yn}=fe(),{makeDiscordChannel:Dl,makeDiscordMember:Fl,makeDiscordRole:$l}=et();function Pl(t,[e],n){let r=yn("b\xFAsqueda",e,Mn.TEXT,n),s=n.interpreter.provider.fetchChannel(r.value);return s?Dl(s):xn()}function ql(t,[e],n){let r=yn("b\xFAsqueda",e,Mn.TEXT,n),s=n.interpreter.provider.fetchMember(r.value);return s?Fl(s):xn()}function _l(t,[e],n){let r=yn("b\xFAsqueda",e,Mn.TEXT,n),s=n.interpreter.provider.fetchRole(r.value);return s?$l(s):xn()}var Vl=[{id:"buscarCanal",fn:Pl},{id:"buscarMiembro",fn:ql},{id:"buscarRol",fn:_l}];Ks.exports={discordFunctions:Vl}});var Ys=b((Gh,zs)=>{var{utilFunctions:Gl}=_s(),{kindFunctions:Xl}=Xs(),{discordFunctions:Kl}=Hs(),Hl=[...Gl,...Xl,...Kl];zs.exports={NativeFunctions:Hl}});var ea=b((Xh,Zs)=>{var{makeNumber:De,makeText:Ct,ValueKinds:Ue}=D(),{expectParam:ze,getParamOrDefault:zl}=fe(),{improveNumber:Yl,clamp:jl}=he();function Ql(t,[],e){return De(Math.abs(t.value))}function wt(t,[],e){return De(Math.trunc(t.value))}function Wl(t,[e],n){let r=ze("precisi\xF3n",e,Ue.NUMBER,n);if(r.value<0||r.value>100)throw n.interpreter.TuberInterpreterError("La precisi\xF3n especificada debe ser un N\xFAmero entre 1 y 100");let s=t.value.toFixed(r.value);return Ct(s)}function js(t,[e],n){let r=ze("precisi\xF3n",e,Ue.NUMBER,n);if(r.value<0||r.value>100)throw n.interpreter.TuberInterpreterError("La precisi\xF3n especificada debe ser un N\xFAmero entre 0 y 100");let s=(+t.value.toFixed(r.value)).toString();return Ct(s)}function Jl(t,[e],n){let r=zl("base",e,Ue.NUMBER,n,10);if(r.value<2||r.value>36)throw n.interpreter.TuberInterpreterError("La base num\xE9rica de la conversi\xF3n a Texto debe ser un N\xFAmero entre 2 y 36 inclusive");return Ct(t.value.toString(r.value))}function Qs(t,[e,n],r){let s=ze("acortar",e,Ue.BOOLEAN,r),a=ze("m\xEDnimoD\xEDgitos",n,Ue.NUMBER,r);if(a.value<1||a.value>10)throw r.interpreter.TuberInterpreterError("El par\xE1metro requerido `m\xEDnimoD\xEDgitos` debe ser un N\xFAmero entre 1 y 10");return Ct(`${Yl(t.value,s.value,a.value)}`)}function Zl(t,[e,n],r){let s=ze("m\xEDnimo",e,Ue.NUMBER,r).value,a=ze("m\xE1ximo",n,Ue.NUMBER,r).value,i=jl(t.value,s,a);return De(i)}function eu(t,[],e){return De(Math.sign(t.value))}function tu(t,[],e){return De(Math.floor(t.value))}function nu(t,[],e){return De(Math.ceil(t.value))}function Ws(t,[],e){return De(Math.round(t.value))}var Js=new Map;Js.set("absoluto",Ql).set("aEntero",wt).set("aFijo",Wl).set("aFormateado",Qs).set("aPrecision",js).set("aPrecisi\xF3n",js).set("aRedondeado",Ws).set("aTexto",Jl).set("aTruncado",wt).set("entero",wt).set("formatear",Qs).set("limitar",Zl).set("redondear",Ws).set("signo",eu).set("suelo",tu).set("techo",nu).set("truncar",wt);Zs.exports={numberMethods:Js}});var la=b((Kh,ca)=>{var{ValueKinds:re,makeNumber:aa,makeText:ve,makeBoolean:wn,makeList:ia,makeNada:ru,isInternalOperable:su}=D(),{calculatePositionOffset:au,expectParam:Ye,getParamOrDefault:ta}=fe();function iu(t,[],e){return ia([...t.value].map(n=>ve(n)))}function Bt(t,[],e){return ve(t.value.toUpperCase())}function Ut(t,[],e){return ve(t.value.toLowerCase())}function ou(t,[e],n){if(e==null||e.kind!==re.NUMBER||!su(e.value))throw n.interpreter.TuberInterpreterError("Se esperaba un N\xFAmero v\xE1lido como argumento de posici\xF3n de caracter");let r=au(e.value,t.value.length),s=t.value.charAt(r);return s?.length?ve(s):ru()}function cu(t,[e],n){let r=Ye("subCadena",e,re.TEXT,n);return wn(t.value.startsWith(r.value))}function na(t,[e],n){let r=Ye("subCadena",e,re.TEXT,n);return wn(t.value.includes(r.value))}function lu(t,[e,n],r){let s=ta("inicio",e,re.NUMBER,r,0),a=ta("fin",n,re.NUMBER,r,t.value.length);return ve(t.value.slice(s.value,a.value))}function uu(t,[],e){return ve(t.value.trim())}function du(t,[e],n){if(e.kind!==re.TEXT)throw n.interpreter.TuberInterpreterError("Se esperaba un Texto v\xE1lido como argumento separador de Texto");return ia(t.value.split(e.value).map(r=>ve(r)))}function ra(t,[e],n){let r=Ye("b\xFAsqueda",e,re.TEXT,n).value;return aa(t.value.indexOf(r))}function hu(t,[e,n],r){let s=Ye("ocurrencia",e,re.TEXT,r).value;if(s.length===0)throw r.interpreter.TuberInterpreterError("Se esperaba un Texto no-vac\xEDo como ocurrencia de Funci\xF3n `reemplazar`");let a=Ye("reemplazo",n,re.TEXT,r).value;return ve(t.value.replace(s,a))}function Dt(t,[e],n){let r=Ye("veces",e,re.NUMBER,n),s=Math.floor(r.value);if(s<0||s*t.value.length>1024)throw n.interpreter.TuberInterpreterError("Se esperaba un N\xFAmero positivo hasta 1024 como argumento de repeticiones de Texto");return ve(t.value.repeat(s))}function mu(t,[e],n){if(e?.kind!==re.TEXT)throw n.interpreter.TuberInterpreterError("Se esperaba un Texto v\xE1lido como argumento de comprobaci\xF3n de sub-texto");return wn(t.value.endsWith(e.value))}function sa(t,[e],n){if(e.kind!==re.TEXT)throw n.interpreter.TuberInterpreterError("Se esperaba un Texto v\xE1lido como argumento de b\xFAsqueda de sub-texto");return aa(t.value.lastIndexOf(e.value))}var oa=new Map;oa.set("aLista",iu).set("aMinuscula",Ut).set("aMin\xFAscula",Ut).set("aMayuscula",Bt).set("aMay\xFAscula",Bt).set("aMinusculas",Ut).set("aMin\xFAsculas",Ut).set("aMayusculas",Bt).set("aMay\xFAsculas",Bt).set("aRepetida",Dt).set("aRepetido",Dt).set("caracterEn",ou).set("comienzaCon",cu).set("contiene",na).set("cortar",lu).set("incluye",na).set("normalizar",uu).set("partir",du).set("posicionDe",ra).set("posici\xF3nDe",ra).set("reemplazar",hu).set("repetida",Dt).set("repetido",Dt).set("terminaCon",mu).set("ultimaPosicionDe",sa).set("\xFAltimaPosici\xF3nDe",sa);ca.exports={textMethods:oa}});var ba=b((Hh,Sa)=>{var{ValueKinds:j,makeText:ua,makeBoolean:Pt,makeList:Fe,makeRegistry:Eu,makeNada:ke,coerceValue:Te,makeNumber:le}=D(),{expectParam:pu,getParamOrNada:da,makePredicateFn:ue,getParamOrDefault:fu}=fe();function ha(t,[],e){return Fe(t.elements.toReversed())}function Cn(t,[e],n){let r=ue("predicado",e,n),s=t.elements.some((a,i)=>Te(n.interpreter,r(a,le(i),t),j.BOOLEAN).value);return Pt(s)}function Ft(t,[e],n){if(e==null)return Fe(t.elements.toSorted((a,i)=>a.compareTo(i).value));let r=ue("criterio",e,n),s=t.elements.toSorted((a,i)=>Te(n.interpreter,r(a,i),j.NUMBER).value);return Fe(s)}function gu(t,[],e){let n=new Map(t.elements.map((r,s)=>[`${s}`,r]));return Eu(n)}function ma(t,[e],n){let r=t.elements.some(s=>s.equals(e));return Pt(r)}function Tu(t,[e,n],r){let[s,a]=da("inicio",e,j.NUMBER,r);if(!s)return t;let[i,o]=da("fin",n,j.NUMBER,r);return Fe(i?t.elements.slice(a.value,o.value):t.elements.slice(a.value))}function Su(t,[e],n){let r=ue("predicado",e,n);return t.elements.find((a,i)=>Te(n.interpreter,r(a,le(i),t),j.BOOLEAN).value)??ke()}function Ea(t,[e],n){let r=ue("predicado",e,n);return t.elements.findLast((a,i)=>Te(n.interpreter,r(a,le(i),t),j.BOOLEAN).value)??ke()}function bu(t,[e],n){let r=ue("predicado",e,n),s=t.elements.findIndex((a,i)=>Te(n.interpreter,r(a,le(i),t),j.BOOLEAN).value);return le(s)}function $t(t,[e],n){let r=ue("predicado",e,n),s=t.elements.findLastIndex((a,i)=>Te(n.interpreter,r(a,le(i),t),j.BOOLEAN).value);return le(s)}function Au(t,[e],n){let r=ue("filtro",e,n),s=t.elements.filter((a,i)=>Te(n.interpreter,r(a,le(i),t),j.BOOLEAN).value);return Fe(s)}function Nu(t,[],e){return t.elements.reverse(),ke()}function vu(t,[e],n){let r=ue("mapeo",e,n),s=t.elements.map((a,i)=>r(a,le(i),t));return Fe(s)}function ku(t,[e],n){if(e==null)t.elements.sort((r,s)=>r.compareTo(s).value);else{let r=ue("criterio",e,n);t.elements.sort((s,a)=>Te(n.interpreter,r(s,a),j.NUMBER).value)}return ke()}function Ru(t,[e],n){let r=ue("procedimiento",e,n);return t.elements.slice().forEach((s,a)=>r(s,le(a),t)),ke()}function Lu(t,[e],n){let r=pu("\xEDndice",e,j.NUMBER,n);if(r.value<0||r.value>=t.elements.length)return ke();let s=t.elements.splice(r.value,1);return!s.length||s[0]==null?ke():s[0]}function Ou(t,[],e){return t.elements.shift()??ke()}function pa(t,[],e){return t.elements.pop()??ke()}function Iu(t,[e],n){let r=ue("predicado",e,n),s=t.elements.every((a,i)=>Te(n.interpreter,r(a,le(i),t),j.BOOLEAN).value);return Pt(s)}function Mu(t,[e],n){if(!t.elements.length)return ua("");let r=fu("separador",e,j.TEXT,n,","),s=t.elements.map(a=>Te(n.interpreter,a,j.TEXT).value);return ua(s.join(r.value))}function fa(t,[],e){return t.elements[t.elements.length]}function ga(t,[],e){return Pt(t.elements.length===0)}var Ta=new Map;Ta.set("aInvertida",ha).set("aInvertido",ha).set("algun",Cn).set("alg\xFAn",Cn).set("alguno",Cn).set("aOrdenada",Ft).set("aOrdenado",Ft).set("aRegistro",gu).set("contiene",ma).set("cortar",Tu).set("encontrar",Su).set("encontrarId",bu).set("encontrarUltimaId",$t).set("encontrar\xDAltimaId",$t).set("encontrarUltimoId",$t).set("encontrar\xDAltimoId",$t).set("encontrarUltimo",Ea).set("encontrar\xDAltimo",Ea).set("filtrar",Au).set("incluye",ma).set("invertir",Nu).set("mapear",vu).set("ordenar",ku).set("ordenada",Ft).set("ordenado",Ft).set("paraCada",Ru).set("robar",Lu).set("robarPrimero",Ou).set("robarUltimo",pa).set("robar\xDAltimo",pa).set("todos",Iu).set("unir",Mu).set("ultimo",fa).set("\xFAltimo",fa).set("vacia",ga).set("vac\xEDa",ga);Sa.exports={listMethods:Ta}});var La=b((zh,Ra)=>{var{ValueKinds:Bn,makeText:_t,makeBoolean:Un,makeList:qt,makeRegistry:xu,coerceValue:yu,makeNada:wu}=D(),{expectParam:Na,makePredicateFn:va}=fe();function Cu(t,[],e){let r=[...t.entries.keys()].map(s=>_t(s));return qt(r)}function Bu(t,[e],n){let r=Na("clave",e,Bn.TEXT,n);return Un(t.entries.has(r.value))}function Uu(t,[],e){let r=[...t.entries.entries()].map(([s,a])=>qt([_t(s),a]));return qt(r)}function Du(t,[e],n){let r=va("filtro",e,n),s=new Map;for(let[a,i]of t.entries)yu(n.interpreter,r(_t(a),i),Bn.BOOLEAN).value&&s.set(a,i);return xu(s)}function Fu(t,[e],n){let r=va("procedimiento",e,n),s=new Map(t.entries);for(let[a,i]of s)r(_t(a),i);return wu()}function $u(t,[e],n){let r=Na("clave",e,Bn.TEXT,n),s=t.entries.delete(r.value);return Un(s)}function Aa(t,[],e){return Un(t.entries.size===0)}function Pu(t,[],e){let n=[...t.entries.values()];return qt(n)}var ka=new Map;ka.set("claves",Cu).set("contiene",Bu).set("entradas",Uu).set("filtrar",Du).set("paraCada",Fu).set("quitar",$u).set("vacio",Aa).set("vac\xEDo",Aa).set("valores",Pu);Ra.exports={registryMethods:ka}});var wa=b((jh,ya)=>{var{ValueKinds:te}=D(),{fileRegex:Gt,expectParam:Se,getParamOrNada:Ma,calculatePositionOffset:Yh,getParamOrDefault:qu,linkRegex:_u}=fe(),{stringHexToNumber:Vu}=he();function Vt(t,[e,n,r],s){let a=Se("nombre",e,te.TEXT,s),i=Se("valor",n,te.TEXT,s),o=qu("alineado",r,te.BOOLEAN,s,!1);if(a.value.length===0)throw s.interpreter.TuberInterpreterError("El nombre del campo de Marco no puede estar vac\xEDo");if(i.value.length===0)throw s.interpreter.TuberInterpreterError("El valor del campo de Marco no puede estar vac\xEDo");return t.value.addFields({name:a.value,value:i.value,inline:o.value}),t}function Gu(t,[],e){return et().makeEmbedRegistry(t.value)}function Xu(t,[e,n],r){let s=Se("nombre",e,te.TEXT,r),[a,i]=Ma("imagen",n,te.TEXT,r);if(s.value.length===0)throw r.interpreter.TuberInterpreterError("El nombre del autor del Marco no puede estar vac\xEDo");if(!a)return t.value.setAuthor({name:s.value}),t;if(!Gt.test(i.value))throw r.interpreter.TuberInterpreterError("Se esperaba un enlace v\xE1lido para el \xEDcono del autor del Marco");return t.value.setAuthor({name:s.value,iconUrl:i.value}),t}function Ku(t,[e],n){let r=Se("color",e,te.TEXT,n);if(r.value.length===0)throw n.interpreter.TuberInterpreterError("No puedes especificar un Texto vac\xEDo para el color del Marco");try{let s=Vu(r.value);t.value.setColor(s)}catch{throw n.interpreter.TuberInterpreterError(`Se recibi\xF3 un c\xF3digo de color inv\xE1lido: "${r.value}", en asignaci\xF3n de color de Marco`)}return t}function Oa(t,[e],n){let r=Se("descripci\xF3n",e,te.TEXT,n);if(r.value.length===0)throw n.interpreter.TuberInterpreterError("No puedes suministrar una descripci\xF3n de Marco vac\xEDa");return t.value.setDescription(r.value),t}function Hu(t,[e],n){let r=Se("enlace",e,te.TEXT,n);if(!_u.test(r.value))throw n.interpreter.TuberInterpreterError("Se esperaba un enlace v\xE1lido para el Marco");return t.value.setUrl(r.value),t}function zu(t,[e],n){let r=Se("imagen",e,te.TEXT,n);if(!Gt.test(r.value))throw n.interpreter.TuberInterpreterError("Se esperaba un enlace v\xE1lido para la imagen del Marco");return t.value.setImage(r.value),t}function Yu(t,[e],n){let r=Se("imagen",e,te.TEXT,n);if(!Gt.test(r.value))throw n.interpreter.TuberInterpreterError("Se esperaba un enlace v\xE1lido para la miniatura del Marco");return t.value.setThumbnail(r.value),t}function ju(t,[e,n],r){let s=Se("pie",e,te.TEXT,r),[a,i]=Ma("\xEDcono",n,te.TEXT,r);if(s.value.length===0)throw r.interpreter.TuberInterpreterError("El texto de pie de Marco suministrado no puede estar vac\xEDo");if(!a)return t.value.setFooter({text:s.value}),t;if(!Gt.test(i.value))throw r.interpreter.TuberInterpreterError("Se esperaba un enlace v\xE1lido para el \xEDcono del pie del Marco");return t.value.setFooter({text:s.value,iconUrl:i.value}),t}function Ia(t,[e],n){let r=Se("t\xEDtulo",e,te.TEXT,n);if(r.value.length===0)throw n.interpreter.TuberInterpreterError("No puedes suministrar un t\xEDtulo de Marco vac\xEDo");return t.value.setTitle(r.value),t}var xa=new Map;xa.set("agregar",Vt).set("agregarCampo",Vt).set("a\xF1adir",Vt).set("a\xF1adirCampo",Vt).set("aRegistro",Gu).set("asignarAutor",Xu).set("asignarColor",Ku).set("asignarDescripcion",Oa).set("asignarDescripci\xF3n",Oa).set("asignarEnlace",Hu).set("asignarImagen",zu).set("asignarMiniatura",Yu).set("asignarPie",ju).set("asignarTitulo",Ia).set("asignarT\xEDtulo",Ia);ya.exports={embedMethods:xa}});var Da=b((Qh,Ua)=>{var{ValueKinds:$e}=D(),{numberMethods:Qu}=ea(),{textMethods:Wu}=la(),{listMethods:Ju}=ba(),{registryMethods:Zu}=La(),{embedMethods:ed}=wa(),Ca=new Map;Ca.set("enlazar",function(t,[e],n){return t.self=e,t}).set("llamar",function(t,[e,...n],r){return t.call(e,n,r)});var Ba=new Map;Ba.set("llamar",function(t,[e],n){let r;return t.lambda===!0?r=n.interpreter.evaluate(t.expression,n):r=n.interpreter.evaluateStatement(t.body,n),r});var td=new Map().set($e.NUMBER,Qu).set($e.TEXT,Wu).set($e.LIST,Ju).set($e.REGISTRY,Zu).set($e.EMBED,ed).set($e.NATIVE_FN,Ca).set($e.FUNCTION,Ba);Ua.exports={NativeMethodsLookup:td}});var Fn=b((nm,$a)=>{var{Scope:Wh}=Ie(),{makeNumber:Fa,makeRegistry:nd,makeNativeFunction:rd,ValueKindTranslationLookups:Jh,ValueKinds:Et,makeText:sd,makeValue:Zh,makeBoolean:em,makeList:ad,makeNada:id}=D(),{NativeColorsLookup:od}=Is(),{NativeFunctions:cd}=Ys(),{NativeMethodsLookup:ld}=Da(),{makeDiscordMember:ud,makeDiscordChannel:dd,makeDiscordGuild:hd}=et(),{makeKindFromValue:md}=fe(),{EnvironmentProvider:tm}=Ze();function Ed(t){t.global=!0,t.assignVariable("PI",Fa(Math.PI)),t.assignVariable("E",Fa(Math.E));for(let[e,n]of od)t.assignVariable(e,sd("#"+n.toString(16)));for(let{id:e,fn:n}of cd)t.assignVariable(e,rd(null,n))}async function pd(t,e,n=null){let r=e.getMember(),s=e.getChannel(),a=e.getGuild();r&&t.assignVariable("usuario",await ud(r)),s&&t.assignVariable("canal",dd(s)),a&&t.assignVariable("servidor",await hd(a)),n?.forEach((i,o)=>{t.assignVariable(o,Dn(i))})}function Dn(t){switch(t.kind){case Et.NUMBER:case Et.TEXT:case Et.BOOLEAN:return md(t.kind,t.value);case Et.LIST:return ad(t.elements.map(n=>Dn(n)));case Et.REGISTRY:let e=new Map;for(let[n,r]of Object.entries(t.entries))e.set(n,Dn(r));return nd(e);default:return id()}}$a.exports={NativeMethodsLookup:ld,declareNatives:Ed,declareContext:pd}});var Xa=b((sm,Ga)=>{var{ProductionInputReader:fd,TestDriveInputReader:gd}=vn(),{Scope:Me}=Ie(),{TokenKinds:xe}=J(),{ExpressionKinds:q}=Lt(),{StatementKinds:U}=ct(),{ValueKinds:S,makeNumber:Re,makeText:Pa,makeBoolean:$n,makeList:Pn,makeRegistry:qa,makeNada:k,coerceValue:je,isInternalOperable:_a,makeNativeFunction:Td,makeFunction:Sd,makeLambda:bd,ValueKindTranslationLookups:qn}=D(),{UnaryOperationLookups:Ad,BinaryOperationLookups:_n,ValueKindLookups:Va}=Tn(),{NativeMethodsLookup:Nd}=Fn(),{iota:Xt,shortenText:vd}=he(),{EnvironmentProvider:rm}=Ze(),Q={NONE:Xt(0),BREAK:Xt(),RETURN:Xt(),ABORT:Xt()},Vn=class{#e;#t;#r;#s;#i;#o;#a;#c;#n;constructor(){this.#t=[],this.#r=[],this.#s=new Map,this.#i="",this.#a=Q.NONE,this.#c=0,this.#n=[]}get provider(){return this.#o}get hasArgs(){return this.#e.hasArgs}TuberInterpreterError(e,n=null){n??=this.#n[0];let{lineString:r,offset:s,markLength:a}=this.#u(n),i=this.#h(n,r,s,a),o=this.#p(),c=new Error(`${i}${e}
${o}`);return c.name="TuberInterpreterError",c}TuberSendError(e,n=null){n??=this.#n[0];let{lineString:r,offset:s,markLength:a}=this.#u(n),i=this.#h(n,r,s,a),o=new Error(i+e);return o.name="TuberSendError",o}#u(e){if(e==null)return{lineString:null,offset:0,markLength:0};let n="(...)",r=55,s=e.end-e.start,a=e.column+s,o=this.#i.split(/\r?\n/g)[e.line-1],c=Math.max(0,o.length-r);if(o.length<r)return{lineString:o,offset:c,markLength:s};let d=n.length+1;if(a<r)o=o.slice(0,r-d)+" "+n;else if(e.column>=o.length)o=n+" "+o.slice(o.length-r-1+d);else{let g=(e.column+a)*.5,T=Math.floor(r*.5),V=r-T;e.column<g-T&&(g=e.column+T),o=n+" "+o.slice(g-T+d,g+V-d)+" "+n}return{lineString:o,offset:c,markLength:s}}#h(e,n,r,s){if(e==null)return"```arm\n//No hay informaci\xF3n adicional para mostrar...\n```";let a=Math.max(0,Math.min(e.column-r-1,n?.length||0)),i=Math.max(1,Math.min(a+s,n?.length||1)-a);return["```arm",n||"//No hay informaci\xF3n adicional para mostrar...",n?`${" ".repeat(a)}${"\u2191".repeat(i)}`:"","```",`En l\xEDnea **${e.line}**, columnas **${e.column}** a **${e.column+s}** - `].join(`
`)}#p(){let e=[];for(;this.#n.length>0&&e.length<6;){let n=this.forgetLastNode();n?.kind===q.CALL&&e.push(`- En \`${this.astString(n.fn)}\``)}return e.push("- En ra\xEDz de ejecuci\xF3n"),e.join(`
`)}is(e,n){return e?.kind===n}isAnyOf(e,...n){return n.some(r=>e.kind===r)}checkStop(e){return this.#a>=e}eatStop(e){let n=this.#a>=e;return this.#a<=e&&(this.#a=Q.NONE),n}rememberNode(e){this.#n.unshift(e)}forgetLastNode(){return this.#n.shift()}evaluateAs(e,n,r,s=!0){return je(this,this.evaluate(e,n,s),r)}evaluateProgram(e,n,r,s,a=void 0,i=!1){if(e==null||e.kind!==U.PROGRAM||e.body==null)throw"Se esperaba AST v\xE1lido para interpretar";if(typeof r!="string")throw new Error("Se esperaba un String v\xE1lido para proveer informaci\xF3n de errores de evaluaci\xF3n");this.#s=new Map,this.#t=[],this.#r=[],this.#n=[],this.#i=r.replace(/(^\s+)|(\s+$)/g,""),this.#o=s,this.#a=Q.NONE,this.#c=1e3,this.#e=i?new gd(this,a):new fd(this,a);let o=this.#l(e,n),c=this.#e.inputStack,d=this.#r.slice(),g=new Map(this.#s.entries()),T=this.#t.slice();return{returned:o,inputStack:c,sendStack:d,saveTable:g,errorStack:T}}evaluateStatement(e,n){if(this.#c--<=0)throw this.TuberInterpreterError("L\xEDmite de ejecuci\xF3n de sentencias agotado. Esto puede deberse a un bucle infinito, abuso de estructuras iterativas o c\xF3digo poco eficiente",e);this.rememberNode(e);let r;switch(e.kind){case U.BLOCK:r=this.#l(e,n);break;case U.CONDITIONAL:r=this.#m(e,n);break;case U.WHILE:r=this.#E(e,n);break;case U.DO_UNTIL:r=this.#g(e,n);break;case U.REPEAT:r=this.#T(e,n);break;case U.FOR_EACH:r=this.#S(e,n);break;case U.FOR:r=this.#b(e,n);break;case U.EXPRESSION:r=this.#v(e,n);break;case U.READ:r=this.#k(e,n);break;case U.DECLARATION:r=this.#R(e,n);break;case U.SAVE:r=this.#L(e,n);break;case U.LOAD:r=this.#I(e,n);break;case U.ASSIGNMENT:r=this.#M(e,n);break;case U.INSERTION:r=this.#x(e,n);break;case U.DELETE:r=this.#O(e,n);break;case U.RETURN:r=this.#y(e,n);break;case U.END:r=this.#w();break;case U.STOP:r=this.#C(e,n);break;case U.SEND:r=this.#B(e,n);break;default:throw new Error(`Se encontr\xF3 un nodo inesperado u no implementado al evaluar sentencia: ${e.kind}`)}return this.forgetLastNode(),r}evaluate(e,n,r=!0){if(this.rememberNode(e),this.#c<=0)throw this.TuberInterpreterError("L\xEDmite de ejecuci\xF3n de sentencias agotado. Esto puede deberse a un bucle infinito, abuso de estructuras iterativas o c\xF3digo poco eficiente",e);this.#c-=.1;let s;switch(e.kind){case q.NUMBER_LITERAL:s=Re(e.value);break;case q.TEXT_LITERAL:s=Pa(e.value);break;case q.BOOLEAN_LITERAL:s=$n(e.value);break;case q.LIST_LITERAL:s=this.#U(e,n);break;case q.REGISTRY_LITERAL:s=this.#D(e,n);break;case q.FUNCTION:s=this.#F(e,n);break;case q.NADA_LITERAL:s=k();break;case q.IDENTIFIER:s=n.lookup(e.name,r);break;case q.UNARY:s=this.#$(e,n,r);break;case q.BINARY:s=this.#P(e,n,r);break;case q.CAST:s=this.#_(e,n);break;case q.SEQUENCE:s=this.#V(e,n);break;case q.ARROW:s=this.#G(e,n);break;case q.CALL:s=this.#X(e,n);break;default:throw new Error(`Se encontr\xF3 un nodo inesperado u no implementado al evaluar expresi\xF3n: ${e.kind}`)}return this.forgetLastNode(),s}#l(e,n){let r=k(),s=new Me(this,n);for(let a of e.body)if(r=this.evaluateStatement(a,s),this.checkStop(Q.BREAK))break;return r}#m(e,n){let{test:r,consequent:s,alternate:a}=e;return this.evaluateAs(r,n,S.BOOLEAN,!1).value?this.#l(s,n):a!=null?this.evaluateStatement(a,n):k()}#E(e,n){let{test:r,body:s}=e,a=k();for(;this.evaluateAs(r,n,S.BOOLEAN).value===!0&&(a=this.#l(s,n),!this.eatStop(Q.BREAK)););return a}#g(e,n){let{test:r,body:s}=e,a=k();do if(a=this.#l(s,n),this.eatStop(Q.BREAK))break;while(this.evaluateAs(r,n,S.BOOLEAN).value===!1);return a}#T(e,n){let{times:r,body:s}=e,a=k(),i=this.evaluateAs(r,n,S.NUMBER).value;for(let o=0;o<i&&(a=this.#l(s,n),!this.eatStop(Q.BREAK));o++);return a}#S(e,n){let{identifier:r,container:s,body:a}=e,i=k(),o=this.evaluate(s,n);if(!this.isAnyOf(o,S.LIST,S.REGISTRY))throw this.TuberInterpreterError(`Se esperaba un valor de Lista o Registro en expresi\xF3n de contenedor de Sentencia \`PARA CADA\`, pero \`${this.astString(s)}\` fue de tipo ${qn.get(o.kind)}`,s);let c=(this.is(o,S.LIST)?o.elements:o.entries).keys(),d=new Me(this,n),g=this.is(o,S.LIST)?T=>o.elements[T]:T=>Pn([Pa(T),o.entries.get(T)]);for(let T of c)if(d.assignVariable(r,g(T)),i=this.#l(a,d),this.eatStop(Q.BREAK))break;return i}#b(e,n){return e.full===!0?this.#A(e,n):this.#N(e,n)}#A(e,n){let{init:r,test:s,step:a,identifier:i,body:o}=e,c=k(),d=new Me(this,n),g=this.evaluate(r,d),T=()=>{d.declareVariable(i,g.kind),d.assignVariable(i,g)},V=()=>this.evaluateAs(s,d,S.BOOLEAN).value,R=()=>this.evaluateStatement(a,d);for(T();V()&&(c=this.#l(o,d),!this.eatStop(Q.BREAK));R());return c}#N(e,n){let{from:r,to:s,identifier:a,body:i}=e,o=k(),c=this.evaluateAs(r,n,S.NUMBER).value,d=this.evaluateAs(s,n,S.NUMBER).value,g=new Me(this,n),T,{testFn:V,stepFn:R}=c<d?{testFn:()=>T<=d,stepFn:()=>T++}:{testFn:()=>T>=d,stepFn:()=>T--};for(T=c;V()&&(g.assignVariable(a,Re(T)),o=this.#l(i,g),!this.eatStop(Q.BREAK));R());return o}#v(e,n){return this.evaluate(e.expression,n),k()}#k(e,n){let r=this.#e.readInput(e,n);return this.#f(e.receptor,r,n),k()}#R(e,n){let{dataKind:r,declarations:s}=e,a=r!=null?Va.get(r.kind)??S.NADA:S.NADA;for(let i of s)n.declareVariable(i,a);return k()}#L(e,n){let{identifier:r,expression:s}=e,a=this.evaluate(s,n);if(!this.isAnyOf(a,S.NUMBER,S.TEXT,S.BOOLEAN,S.LIST,S.REGISTRY)){let i=qn.get(a.kind)??"Desconocido";throw this.TuberInterpreterError(`Tipo de dato inv\xE1lido al intentar guardar un valor bajo el nombre: \`${r}\`. El tipo del valor recibido fue: _${i}_`,s)}return this.#s.set(r,a),k()}#O(e,n){let{identifier:r}=e;return this.#s.set(r,k()),k()}#I(e,n){let{identifier:r}=e,s=n.lookup(r,!1);return s.kind===S.NADA&&n.assignVariable(r,s),k()}#M(e,n){let{operator:r,receptor:s,reception:a}=e,i,o=!1;if(a==null){if(!r.isAny(xe.ADD,xe.SUBTRACT))throw this.TuberInterpreterError("La omisi\xF3n del valor de recepci\xF3n en una sentencia de asignaci\xF3n solo puede hacerse con los indicadores de Sentencia `SUMAR` y `RESTAR`",r);i=Re(1),o=!0}else i=this.evaluate(a,n,!1),this.is(i,S.FUNCTION)&&(i.name=vd(this.astString(s),96));if(r.is(xe.EXTEND)){let c=this.evaluate(s,n,!1);if(!this.is(c,S.LIST))throw this.TuberInterpreterError(`El receptor en Sentencia \`EXTENDER\` debe ser una Lista, y \`${this.astString(s)}\` no lo era`,s);return c.elements.push(i),k()}if(_n.has(r.kind)){let c=this.evaluate(s,n,!1);if(c.kind===S.TEXT){if(o)throw this.TuberInterpreterError("La omisi\xF3n del valor de recepci\xF3n en una sentencia de asignaci\xF3n solo puede hacerse con N\xFAmeros",r);if(!r.is(xe.ADD))throw this.TuberInterpreterError("Las \xFAnicas sentencias de asignaci\xF3n que se pueden usar con Textos son `CARGAR` y `SUMAR`",r)}let d=_n.get(r.kind);if(!d)throw"Operaci\xF3n binaria desconocida";i=d(this,c,i,s,a)}return this.#f(s,i,n),k()}#x(e,n){let{receptor:r,reception:s,index:a}=e,i=this.evaluate(r,n,!1);if(i.kind!==S.LIST)throw this.TuberInterpreterError(`El receptor en Sentencia \`EXTENDER\` debe ser una Lista, y \`${this.astString(r)}\` no lo era`,r);let o=this.evaluate(s,n,!1),c=this.evaluateAs(a,n,S.NUMBER,!0);return i.elements.splice(c.value,0,o),k()}#y(e,n){let r=this.evaluate(e.expression,n,!1);return this.#a=Q.RETURN,r}#w(){return this.#a=Q.BREAK,k()}#C(e,n){let{condition:r,stopMessage:s}=e,a=r?je(this,this.evaluate(r,n,!1),S.BOOLEAN):$n(!0),i=je(this,this.evaluate(s,n),S.TEXT);return a.value?(this.#a=Q.ABORT,this.#r=[i],i):k()}#B(e,n){let r=this.evaluate(e.expression,n,!1);switch(r.kind){case S.LIST:r=Pn([...r.elements]);break;case S.REGISTRY:r=qa(new Map([...r.entries.entries()]));break}return this.#r.push(r),k()}#U(e,n){let{elements:r}=e,s=r.map(a=>this.evaluate(a,n));return Pn(s)}#D(e,n){let{entries:r}=e,s=qa(new Map);for(let[a,i]of r.entries()){let o=this.evaluate(i,n);o.kind===S.NATIVE_FN&&(o=o.with(s)),s.entries.set(a,o)}return s}#F(e,n){if(e.expression===!0)return bd(e.body,e.args);let r=Sd(e.body,e.args,new Me(this).include(n));return r.name="[Funci\xF3n]",r}#$(e,n,r=!0){let{operator:s,argument:a}=e,i=this.evaluate(a,n,r),o=Ad.get(s.kind);if(o==null)throw this.TuberInterpreterError(`Operaci\xF3n unaria inv\xE1lida. No se puede evaluar ${this.astString(e)} porque el operador "${s.value}" es inv\xE1lido`,s);return o(this,i,a)}#P(e,n,r=!0){let{operator:s,left:a,right:i}=e;if(s.isAny(xe.AND,xe.OR))return this.#q(e,n,r);let o=this.evaluate(a,n,r),c=this.evaluate(i,n,r),d=_n.get(s.kind);if(d==null)throw this.TuberInterpreterError(`Operaci\xF3n binaria inv\xE1lida. No se puede evaluar ${this.astString(e)} porque el operador "${s.value}" es inv\xE1lido`,s);return d(this,o,c,a,i)}#q(e,n,r=!0){let{operator:s,left:a,right:i}=e,o=this.evaluate(a,n,r),c=this.is(o,S.NADA)?$n(!1):je(this,o,S.BOOLEAN);return c.value===!0&&s.is(xe.OR)||c.value===!1&&s.is(xe.AND)?o:this.evaluate(i,n,r)}#_(e,n){let{argument:r,as:s}=e,a=this.evaluate(r,n,!1),i=Va.get(s.kind);if(!i)throw"Tipo de valor inv\xE1lido al castear";return je(this,a,i)}#V(e,n){let r=k();for(let s of e.expressions)r=this.evaluate(s,n);return r}#G(e,n){let{holder:r}=e,s=this.evaluate(r,n),a=e.computed===!0?this.evaluateAs(e.key,n,S.TEXT).value:e.key;switch(s.kind){case S.NUMBER:{let i=this.#d(s,a);return i||k()}case S.TEXT:{if(a==="largo")return Re(s.value.length);let i=this.#d(s,a);return i||k()}case S.BOOLEAN:throw this.TuberInterpreterError(`El contenedor "${this.astString(r)}" en expresi\xF3n de flecha "->" fue de tipo L\xF3gico, el cual no contiene miembros accedibles por clave`,r);case S.LIST:{if(a==="largo")return Re(s.elements.length);let i=this.#d(s,a);if(i)return i;let o=+a;return _a(o)?s.elements[o]??k():k()}case S.REGISTRY:{let i=this.#d(s,a);if(i)return i;let o=s.entries.get(a);return o?this.is(o,S.NATIVE_FN)?o.with(s):o:a==="largo"||a==="tama\xF1o"?Re(s.entries.size):k()}case S.EMBED:{if(a==="largo")return Re(s.value.data.fields?.length||0);let i=this.#d(s,a);return i||k()}case S.NATIVE_FN:{if(a==="largo")return Re(s.call.length);let i=this.#d(s,a);return i||k()}case S.FUNCTION:{if(a==="largo")return Re(s.args.length);let i=this.#d(s,a);return i||k()}default:throw this.TuberInterpreterError(`El contenedor "${this.astString(r)}" en expresi\xF3n de flecha "->" fue de tipo Nada`,r)}}#X(e,n){let{fn:r,args:s}=e,a=this.evaluate(r,n);if(!this.isAnyOf(a,S.NATIVE_FN,S.FUNCTION))throw this.TuberInterpreterError(`No se pudo llamar ${this.astString(r)} porque no era una Funci\xF3n. En cambio, era de tipo ${qn.get(a.kind)}`,r);let i=s.map(o=>this.evaluate(o,n,!1));return this.callFunction(a,i,n)}callFunction(e,n,r){let s;if(this.is(e,S.NATIVE_FN)){let a=new Me(this,r);s=e.call(e.self??k(),n,a)}else{let a;e.lambda===!1?(e.scope.include(r),a=new Me(this,e.scope)):a=new Me(this,r),e.args.forEach((i,o)=>{let c;if(o<n.length)c=n[o];else if(i.optional)c=this.evaluate(i.fallback,r);else throw this.TuberInterpreterError(`Se esperaba un valor para el par\xE1metro \`${i.identifier}\` de la Funci\xF3n \`${e.name}\``,i);a.declareVariable(i.identifier,S.NADA),a.assignVariable(i.identifier,c)}),e.lambda===!1?s=this.#l(e.body,a):s=this.evaluate(e.expression,a)}return this.eatStop(Q.RETURN),s}#d(e,n){let r=Nd.get(e.kind);if(!r)throw"Tipo de valor inv\xE1lido al intentar encontrar m\xE9todo nativo para el mismo";let s=r.get(n);return s?Td(e,s):null}#f(e,n,r){let s;switch(e.kind){case q.IDENTIFIER:{s=e.name,r.assignVariable(s,n);break}case q.ARROW:if(e.computed===!0){let i=this.evaluate(e.key,r);s=je(this,i,S.TEXT).value}else s=e.key;let a=this.evaluate(e.holder,r);switch(a.kind){case S.LIST:let i=+s;if(!_a(i))throw this.TuberInterpreterError(`Se esperaba un \xEDndice v\xE1lido en lado derecho de expresi\xF3n de flecha "->" para la Lista \`${this.astString(e.holder)}\` en expresi\xF3n receptora de sentencia de asignaci\xF3n. Sin embargo, se recibi\xF3: ${s}`,e);a.elements[i]=n;break;case S.REGISTRY:n.kind===S.NATIVE_FN&&(n=n.with(a)),a.entries.set(s,n);break;default:throw this.TuberInterpreterError(`Expresi\xF3n de flecha inv\xE1lida como receptora de sentencia de asignaci\xF3n. El tipo de \`${this.astString(e.holder)}\` no tiene miembros asignables`,e)}break;default:throw this.TuberInterpreterError(`La expresi\xF3n ${this.astString(e)} es inv\xE1lida como receptora de una sentencia de asignaci\xF3n`,e)}}astString(e){return this.#i.slice(e.start,e.end)}};Ga.exports={Interpreter:Vn}});var Vd=b((am,Ya)=>{var{coerceValue:kd}=D(),{stringifyPSAST:Rd,logPSAST:Ld}=wr(),{Token:Od}=J(),{Lexer:Ka}=ln(),{Parser:Ha}=ds(),{Interpreter:za}=Xa(),{Scope:Id}=Ie(),{Input:Md}=vn(),{declareNatives:xd,declareContext:yd}=Fn(),{EnvironmentProvider:wd,PSGuild:Cd,PSChannel:Bd,PSRole:Ud,PSUser:Dd,PSMember:Fd}=Ze(),$d=1.1,Pd=new Ka,qd=new Ha,_d=new za;Ya.exports={CURRENT_PS_VERSION:$d,Token:Od,Lexer:Ka,Parser:Ha,Interpreter:za,Scope:Id,EnvironmentProvider:wd,PSGuild:Cd,PSChannel:Bd,PSRole:Ud,PSUser:Dd,PSMember:Fd,Input:Md,lexer:Pd,parser:qd,interpreter:_d,coerceValue:kd,declareNatives:xd,declareContext:yd,stringifyPSAST:Rd,logPSAST:Ld}});return Vd();})();
